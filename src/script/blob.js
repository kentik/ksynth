var xn=Object.create;var _t=Object.defineProperty;var An=Object.getOwnPropertyDescriptor;var Sn=Object.getOwnPropertyNames;var In=Object.getPrototypeOf,Rn=Object.prototype.hasOwnProperty;var Ft=(t,e)=>()=>(t&&(e=t(t=0)),e);var de=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Ut=(t,e)=>{for(var r in e)_t(t,r,{get:e[r],enumerable:!0})},ur=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Sn(e))!Rn.call(t,i)&&i!==r&&_t(t,i,{get:()=>e[i],enumerable:!(n=An(e,i))||n.enumerable});return t};var jt=(t,e,r)=>(r=t!=null?xn(In(t)):{},ur(e||!t||!t.__esModule?_t(r,"default",{value:t,enumerable:!0}):r,t)),Bt=t=>ur(_t({},"__esModule",{value:!0}),t);var Sr={};Ut(Sr,{Buffer:()=>S,SlowBuffer:()=>Nn});function pr(){Nt=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,r=t.length;e<r;++e)Ie[e]=t[e],Te[t.charCodeAt(e)]=e;Te["-".charCodeAt(0)]=62,Te["_".charCodeAt(0)]=63}function On(t){Nt||pr();var e,r,n,i,o,a,d=t.length;if(d%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o=t[d-2]==="="?2:t[d-1]==="="?1:0,a=new bn(d*3/4-o),n=o>0?d-4:d;var p=0;for(e=0,r=0;e<n;e+=4,r+=3)i=Te[t.charCodeAt(e)]<<18|Te[t.charCodeAt(e+1)]<<12|Te[t.charCodeAt(e+2)]<<6|Te[t.charCodeAt(e+3)],a[p++]=i>>16&255,a[p++]=i>>8&255,a[p++]=i&255;return o===2?(i=Te[t.charCodeAt(e)]<<2|Te[t.charCodeAt(e+1)]>>4,a[p++]=i&255):o===1&&(i=Te[t.charCodeAt(e)]<<10|Te[t.charCodeAt(e+1)]<<4|Te[t.charCodeAt(e+2)]>>2,a[p++]=i>>8&255,a[p++]=i&255),a}function kn(t){return Ie[t>>18&63]+Ie[t>>12&63]+Ie[t>>6&63]+Ie[t&63]}function Fn(t,e,r){for(var n,i=[],o=e;o<r;o+=3)n=(t[o]<<16)+(t[o+1]<<8)+t[o+2],i.push(kn(n));return i.join("")}function lr(t){Nt||pr();for(var e,r=t.length,n=r%3,i="",o=[],a=16383,d=0,p=r-n;d<p;d+=a)o.push(Fn(t,d,d+a>p?p:d+a));return n===1?(e=t[r-1],i+=Ie[e>>2],i+=Ie[e<<4&63],i+="=="):n===2&&(e=(t[r-2]<<8)+t[r-1],i+=Ie[e>>10],i+=Ie[e>>4&63],i+=Ie[e<<2&63],i+="="),o.push(i),o.join("")}function gt(){return S.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function De(t,e){if(gt()<e)throw new RangeError("Invalid typed array length");return S.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=S.prototype):(t===null&&(t=new S(e)),t.length=e),t}function S(t,e,r){if(!S.TYPED_ARRAY_SUPPORT&&!(this instanceof S))return new S(t,e,r);if(typeof t=="number"){if(typeof e=="string")throw new Error("If encoding is specified then the first argument must be a string");return Dt(this,t)}return fr(this,t,e,r)}function fr(t,e,r,n){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer?Bn(t,e,r,n):typeof e=="string"?jn(t,e,r):Ln(t,e)}function _r(t){if(typeof t!="number")throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function Un(t,e,r,n){return _r(e),e<=0?De(t,e):r!==void 0?typeof n=="string"?De(t,e).fill(r,n):De(t,e).fill(r):De(t,e)}function Dt(t,e){if(_r(e),t=De(t,e<0?0:Pt(e)|0),!S.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function jn(t,e,r){if((typeof r!="string"||r==="")&&(r="utf8"),!S.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=gr(e,r)|0;t=De(t,n);var i=t.write(e,r);return i!==n&&(t=t.slice(0,i)),t}function Lt(t,e){var r=e.length<0?0:Pt(e.length)|0;t=De(t,r);for(var n=0;n<r;n+=1)t[n]=e[n]&255;return t}function Bn(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return r===void 0&&n===void 0?e=new Uint8Array(e):n===void 0?e=new Uint8Array(e,r):e=new Uint8Array(e,r,n),S.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=S.prototype):t=Lt(t,e),t}function Ln(t,e){if(Re(e)){var r=Pt(e.length)|0;return t=De(t,r),t.length===0||e.copy(t,0,0,r),t}if(e){if(typeof ArrayBuffer<"u"&&e.buffer instanceof ArrayBuffer||"length"in e)return typeof e.length!="number"||ri(e.length)?De(t,0):Lt(t,e);if(e.type==="Buffer"&&Array.isArray(e.data))return Lt(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function Pt(t){if(t>=gt())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+gt().toString(16)+" bytes");return t|0}function Nn(t){return+t!=t&&(t=0),S.alloc(+t)}function Re(t){return!!(t!=null&&t._isBuffer)}function gr(t,e){if(Re(t))return t.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!="string"&&(t=""+t);var r=t.length;if(r===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return yt(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return Tr(t).length;default:if(n)return yt(t).length;e=(""+e).toLowerCase(),n=!0}}function Dn(t,e,r){var n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return Wn(this,e,r);case"utf8":case"utf-8":return mr(this,e,r);case"ascii":return Gn(this,e,r);case"latin1":case"binary":return zn(this,e,r);case"base64":return Kn(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Xn(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function it(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function yr(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=S.from(e,n)),Re(e))return e.length===0?-1:dr(t,e,r,n,i);if(typeof e=="number")return e=e&255,S.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):dr(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function dr(t,e,r,n,i){var o=1,a=t.length,d=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,a/=2,d/=2,r/=2}function p(c,l){return o===1?c[l]:c.readUInt16BE(l*o)}var g;if(i){var h=-1;for(g=r;g<a;g++)if(p(t,g)===p(e,h===-1?0:g-h)){if(h===-1&&(h=g),g-h+1===d)return h*o}else h!==-1&&(g-=g-h),h=-1}else for(r+d>a&&(r=a-d),g=r;g>=0;g--){for(var s=!0,u=0;u<d;u++)if(p(t,g+u)!==p(e,u)){s=!1;break}if(s)return g}return-1}function Pn(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var d=parseInt(e.substr(a*2,2),16);if(isNaN(d))return a;t[r+a]=d}return a}function Mn(t,e,r,n){return Et(yt(e,t.length-r),t,r,n)}function vr(t,e,r,n){return Et(ei(e),t,r,n)}function Hn(t,e,r,n){return vr(t,e,r,n)}function Vn(t,e,r,n){return Et(Tr(e),t,r,n)}function Yn(t,e,r,n){return Et(ti(e,t.length-r),t,r,n)}function Kn(t,e,r){return e===0&&r===t.length?lr(t):lr(t.slice(e,r))}function mr(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o=t[i],a=null,d=o>239?4:o>223?3:o>191?2:1;if(i+d<=r){var p,g,h,s;switch(d){case 1:o<128&&(a=o);break;case 2:p=t[i+1],(p&192)===128&&(s=(o&31)<<6|p&63,s>127&&(a=s));break;case 3:p=t[i+1],g=t[i+2],(p&192)===128&&(g&192)===128&&(s=(o&15)<<12|(p&63)<<6|g&63,s>2047&&(s<55296||s>57343)&&(a=s));break;case 4:p=t[i+1],g=t[i+2],h=t[i+3],(p&192)===128&&(g&192)===128&&(h&192)===128&&(s=(o&15)<<18|(p&63)<<12|(g&63)<<6|h&63,s>65535&&s<1114112&&(a=s))}}a===null?(a=65533,d=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|a&1023),n.push(a),i+=d}return $n(n)}function $n(t){var e=t.length;if(e<=hr)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=hr));return r}function Gn(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function zn(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function Wn(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=Zn(t[o]);return i}function Xn(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}function he(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function ve(t,e,r,n,i,o){if(!Re(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function vt(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}function mt(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>(n?i:3-i)*8&255}function Er(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function wr(t,e,r,n,i){return i||Er(t,e,r,4,34028234663852886e22,-34028234663852886e22),Ar(t,e,r,n,23,4),r+4}function Cr(t,e,r,n,i){return i||Er(t,e,r,8,17976931348623157e292,-17976931348623157e292),Ar(t,e,r,n,52,8),r+8}function Qn(t){if(t=Jn(t).replace(qn,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function Jn(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Zn(t){return t<16?"0"+t.toString(16):t.toString(16)}function yt(t,e){e=e||1/0;for(var r,n=t.length,i=null,o=[],a=0;a<n;++a){if(r=t.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function ei(t){for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function ti(t,e){for(var r,n,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function Tr(t){return On(Qn(t))}function Et(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function ri(t){return t!==t}function ni(t){return t!=null&&(!!t._isBuffer||xr(t)||ii(t))}function xr(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function ii(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&xr(t.slice(0,0))}function wt(t,e,r,n,i){var o,a,d=i*8-n-1,p=(1<<d)-1,g=p>>1,h=-7,s=r?i-1:0,u=r?-1:1,c=t[e+s];for(s+=u,o=c&(1<<-h)-1,c>>=-h,h+=d;h>0;o=o*256+t[e+s],s+=u,h-=8);for(a=o&(1<<-h)-1,o>>=-h,h+=n;h>0;a=a*256+t[e+s],s+=u,h-=8);if(o===0)o=1-g;else{if(o===p)return a?NaN:(c?-1:1)*(1/0);a=a+Math.pow(2,n),o=o-g}return(c?-1:1)*a*Math.pow(2,o-n)}function Ar(t,e,r,n,i,o){var a,d,p,g=o*8-i-1,h=(1<<g)-1,s=h>>1,u=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,c=n?0:o-1,l=n?1:-1,y=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(d=isNaN(e)?1:0,a=h):(a=Math.floor(Math.log(e)/Math.LN2),e*(p=Math.pow(2,-a))<1&&(a--,p*=2),a+s>=1?e+=u/p:e+=u*Math.pow(2,1-s),e*p>=2&&(a++,p/=2),a+s>=h?(d=0,a=h):a+s>=1?(d=(e*p-1)*Math.pow(2,i),a=a+s):(d=e*Math.pow(2,s-1)*Math.pow(2,i),a=0));i>=8;t[r+c]=d&255,c+=l,d/=256,i-=8);for(a=a<<i|d,g+=i;g>0;t[r+c]=a&255,c+=l,a/=256,g-=8);t[r+c-l]|=y*128}var Ie,Te,bn,Nt,hr,qn,Mt=Ft(()=>{Ie=[],Te=[],bn=typeof Uint8Array<"u"?Uint8Array:Array,Nt=!1;S.TYPED_ARRAY_SUPPORT=!0;S.poolSize=8192;S._augment=function(t){return t.__proto__=S.prototype,t};S.from=function(t,e,r){return fr(null,t,e,r)};S.kMaxLength=gt();S.TYPED_ARRAY_SUPPORT&&(S.prototype.__proto__=Uint8Array.prototype,S.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&S[Symbol.species]);S.alloc=function(t,e,r){return Un(null,t,e,r)};S.allocUnsafe=function(t){return Dt(null,t)};S.allocUnsafeSlow=function(t){return Dt(null,t)};S.isBuffer=ni;S.compare=function(e,r){if(!Re(e)||!Re(r))throw new TypeError("Arguments must be Buffers");if(e===r)return 0;for(var n=e.length,i=r.length,o=0,a=Math.min(n,i);o<a;++o)if(e[o]!==r[o]){n=e[o],i=r[o];break}return n<i?-1:i<n?1:0};S.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};S.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return S.alloc(0);var n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;var i=S.allocUnsafe(r),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!Re(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,o),o+=a.length}return i};S.byteLength=gr;S.prototype._isBuffer=!0;S.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<e;r+=2)it(this,r,r+1);return this};S.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<e;r+=4)it(this,r,r+3),it(this,r+1,r+2);return this};S.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<e;r+=8)it(this,r,r+7),it(this,r+1,r+6),it(this,r+2,r+5),it(this,r+3,r+4);return this};S.prototype.toString=function(){var e=this.length|0;return e===0?"":arguments.length===0?mr(this,0,e):Dn.apply(this,arguments)};S.prototype.equals=function(e){if(!Re(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:S.compare(this,e)===0};S.prototype.compare=function(e,r,n,i,o){if(!Re(e))throw new TypeError("Argument must be a Buffer");if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),r<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&r>=n)return 0;if(i>=o)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;for(var a=o-i,d=n-r,p=Math.min(a,d),g=this.slice(i,o),h=e.slice(r,n),s=0;s<p;++s)if(g[s]!==h[s]){a=g[s],d=h[s];break}return a<d?-1:d<a?1:0};S.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};S.prototype.indexOf=function(e,r,n){return yr(this,e,r,n,!0)};S.prototype.lastIndexOf=function(e,r,n){return yr(this,e,r,n,!1)};S.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r|0,isFinite(n)?(n=n|0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o=this.length-r;if((n===void 0||n>o)&&(n=o),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return Pn(this,e,r,n);case"utf8":case"utf-8":return Mn(this,e,r,n);case"ascii":return vr(this,e,r,n);case"latin1":case"binary":return Hn(this,e,r,n);case"base64":return Vn(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Yn(this,e,r,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}};S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};hr=4096;S.prototype.slice=function(e,r){var n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);var i;if(S.TYPED_ARRAY_SUPPORT)i=this.subarray(e,r),i.__proto__=S.prototype;else{var o=r-e;i=new S(o,void 0);for(var a=0;a<o;++a)i[a]=this[a+e]}return i};S.prototype.readUIntLE=function(e,r,n){e=e|0,r=r|0,n||he(e,r,this.length);for(var i=this[e],o=1,a=0;++a<r&&(o*=256);)i+=this[e+a]*o;return i};S.prototype.readUIntBE=function(e,r,n){e=e|0,r=r|0,n||he(e,r,this.length);for(var i=this[e+--r],o=1;r>0&&(o*=256);)i+=this[e+--r]*o;return i};S.prototype.readUInt8=function(e,r){return r||he(e,1,this.length),this[e]};S.prototype.readUInt16LE=function(e,r){return r||he(e,2,this.length),this[e]|this[e+1]<<8};S.prototype.readUInt16BE=function(e,r){return r||he(e,2,this.length),this[e]<<8|this[e+1]};S.prototype.readUInt32LE=function(e,r){return r||he(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};S.prototype.readUInt32BE=function(e,r){return r||he(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};S.prototype.readIntLE=function(e,r,n){e=e|0,r=r|0,n||he(e,r,this.length);for(var i=this[e],o=1,a=0;++a<r&&(o*=256);)i+=this[e+a]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*r)),i};S.prototype.readIntBE=function(e,r,n){e=e|0,r=r|0,n||he(e,r,this.length);for(var i=r,o=1,a=this[e+--i];i>0&&(o*=256);)a+=this[e+--i]*o;return o*=128,a>=o&&(a-=Math.pow(2,8*r)),a};S.prototype.readInt8=function(e,r){return r||he(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};S.prototype.readInt16LE=function(e,r){r||he(e,2,this.length);var n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};S.prototype.readInt16BE=function(e,r){r||he(e,2,this.length);var n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};S.prototype.readInt32LE=function(e,r){return r||he(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};S.prototype.readInt32BE=function(e,r){return r||he(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};S.prototype.readFloatLE=function(e,r){return r||he(e,4,this.length),wt(this,e,!0,23,4)};S.prototype.readFloatBE=function(e,r){return r||he(e,4,this.length),wt(this,e,!1,23,4)};S.prototype.readDoubleLE=function(e,r){return r||he(e,8,this.length),wt(this,e,!0,52,8)};S.prototype.readDoubleBE=function(e,r){return r||he(e,8,this.length),wt(this,e,!1,52,8)};S.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r|0,n=n|0,!i){var o=Math.pow(2,8*n)-1;ve(this,e,r,n,o,0)}var a=1,d=0;for(this[r]=e&255;++d<n&&(a*=256);)this[r+d]=e/a&255;return r+n};S.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r|0,n=n|0,!i){var o=Math.pow(2,8*n)-1;ve(this,e,r,n,o,0)}var a=n-1,d=1;for(this[r+a]=e&255;--a>=0&&(d*=256);)this[r+a]=e/d&255;return r+n};S.prototype.writeUInt8=function(e,r,n){return e=+e,r=r|0,n||ve(this,e,r,1,255,0),S.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[r]=e&255,r+1};S.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r|0,n||ve(this,e,r,2,65535,0),S.TYPED_ARRAY_SUPPORT?(this[r]=e&255,this[r+1]=e>>>8):vt(this,e,r,!0),r+2};S.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r|0,n||ve(this,e,r,2,65535,0),S.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=e&255):vt(this,e,r,!1),r+2};S.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r|0,n||ve(this,e,r,4,4294967295,0),S.TYPED_ARRAY_SUPPORT?(this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255):mt(this,e,r,!0),r+4};S.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r|0,n||ve(this,e,r,4,4294967295,0),S.TYPED_ARRAY_SUPPORT?(this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255):mt(this,e,r,!1),r+4};S.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r|0,!i){var o=Math.pow(2,8*n-1);ve(this,e,r,n,o-1,-o)}var a=0,d=1,p=0;for(this[r]=e&255;++a<n&&(d*=256);)e<0&&p===0&&this[r+a-1]!==0&&(p=1),this[r+a]=(e/d>>0)-p&255;return r+n};S.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r|0,!i){var o=Math.pow(2,8*n-1);ve(this,e,r,n,o-1,-o)}var a=n-1,d=1,p=0;for(this[r+a]=e&255;--a>=0&&(d*=256);)e<0&&p===0&&this[r+a+1]!==0&&(p=1),this[r+a]=(e/d>>0)-p&255;return r+n};S.prototype.writeInt8=function(e,r,n){return e=+e,r=r|0,n||ve(this,e,r,1,127,-128),S.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[r]=e&255,r+1};S.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r|0,n||ve(this,e,r,2,32767,-32768),S.TYPED_ARRAY_SUPPORT?(this[r]=e&255,this[r+1]=e>>>8):vt(this,e,r,!0),r+2};S.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r|0,n||ve(this,e,r,2,32767,-32768),S.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=e&255):vt(this,e,r,!1),r+2};S.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r|0,n||ve(this,e,r,4,2147483647,-2147483648),S.TYPED_ARRAY_SUPPORT?(this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24):mt(this,e,r,!0),r+4};S.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r|0,n||ve(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),S.TYPED_ARRAY_SUPPORT?(this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255):mt(this,e,r,!1),r+4};S.prototype.writeFloatLE=function(e,r,n){return wr(this,e,r,!0,n)};S.prototype.writeFloatBE=function(e,r,n){return wr(this,e,r,!1,n)};S.prototype.writeDoubleLE=function(e,r,n){return Cr(this,e,r,!0,n)};S.prototype.writeDoubleBE=function(e,r,n){return Cr(this,e,r,!1,n)};S.prototype.copy=function(e,r,n,i){if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);var o=i-n,a;if(this===e&&n<r&&r<i)for(a=o-1;a>=0;--a)e[a+r]=this[a+n];else if(o<1e3||!S.TYPED_ARRAY_SUPPORT)for(a=0;a<o;++a)e[a+r]=this[a+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),r);return o};S.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),e.length===1){var o=e.charCodeAt(0);o<256&&(e=o)}if(i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!S.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else typeof e=="number"&&(e=e&255);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);var a;if(typeof e=="number")for(a=r;a<n;++a)this[a]=e;else{var d=Re(e)?e:yt(new S(e,i).toString()),p=d.length;for(a=0;a<n-r;++a)this[a+r]=d[a%p]}return this};qn=/[^+\/0-9A-Za-z-_]/g});var Ct=de((exports,module)=>{(function(t){if(typeof exports=="object"&&typeof module<"u")module.exports=t();else if(typeof define=="function"&&define.amd)define([],t);else{var e;typeof window<"u"?e=window:typeof global<"u"?e=global:typeof self<"u"&&(e=self),e.Promise=t()}})(function(){var define,module,exports;return function t(e,r,n){function i(d,p){if(!r[d]){if(!e[d]){var g=typeof _dereq_=="function"&&_dereq_;if(!p&&g)return g(d,!0);if(o)return o(d,!0);var h=new Error("Cannot find module '"+d+"'");throw h.code="MODULE_NOT_FOUND",h}var s=r[d]={exports:{}};e[d][0].call(s.exports,function(u){var c=e[d][1][u];return i(c||u)},s,s.exports,t,e,r,n)}return r[d].exports}for(var o=typeof _dereq_=="function"&&_dereq_,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(t,e,r){"use strict";e.exports=function(n){var i=n._SomePromiseArray;function o(a){var d=new i(a),p=d.promise();return d.setHowMany(1),d.setUnwrap(),d.init(),p}n.any=function(a){return o(a)},n.prototype.any=function(){return o(this)}}},{}],2:[function(t,e,r){"use strict";var n;try{throw new Error}catch(u){n=u}var i=t("./schedule"),o=t("./queue");function a(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new o(16),this._normalQueue=new o(16),this._haveDrainedQueues=!1;var u=this;this.drainQueues=function(){u._drainQueues()},this._schedule=i}a.prototype.setScheduler=function(u){var c=this._schedule;return this._schedule=u,this._customScheduler=!0,c},a.prototype.hasCustomScheduler=function(){return this._customScheduler},a.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},a.prototype.fatalError=function(u,c){c?(process.stderr.write("Fatal "+(u instanceof Error?u.stack:u)+`
`),process.exit(2)):this.throwLater(u)},a.prototype.throwLater=function(u,c){if(arguments.length===1&&(c=u,u=function(){throw c}),typeof setTimeout<"u")setTimeout(function(){u(c)},0);else try{this._schedule(function(){u(c)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function d(u,c,l){this._lateQueue.push(u,c,l),this._queueTick()}function p(u,c,l){this._normalQueue.push(u,c,l),this._queueTick()}function g(u){this._normalQueue._pushOne(u),this._queueTick()}a.prototype.invokeLater=d,a.prototype.invoke=p,a.prototype.settlePromises=g;function h(u){for(;u.length()>0;)s(u)}function s(u){var c=u.shift();if(typeof c!="function")c._settlePromises();else{var l=u.shift(),y=u.shift();c.call(l,y)}}a.prototype._drainQueues=function(){h(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,h(this._lateQueue)},a.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},a.prototype._reset=function(){this._isTickUsed=!1},e.exports=a,e.exports.firstLineError=n},{"./queue":26,"./schedule":29}],3:[function(t,e,r){"use strict";e.exports=function(n,i,o,a){var d=!1,p=function(u,c){this._reject(c)},g=function(u,c){c.promiseRejectionQueued=!0,c.bindingPromise._then(p,p,null,this,u)},h=function(u,c){(this._bitField&50397184)===0&&this._resolveCallback(c.target)},s=function(u,c){c.promiseRejectionQueued||this._reject(u)};n.prototype.bind=function(u){d||(d=!0,n.prototype._propagateFrom=a.propagateFromFunction(),n.prototype._boundValue=a.boundValueFunction());var c=o(u),l=new n(i);l._propagateFrom(this,1);var y=this._target();if(l._setBoundTo(c),c instanceof n){var f={promiseRejectionQueued:!1,promise:l,target:y,bindingPromise:c};y._then(i,g,void 0,l,f),c._then(h,s,void 0,l,f),l._setOnCancel(c)}else l._resolveCallback(y);return l},n.prototype._setBoundTo=function(u){u!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=u):this._bitField=this._bitField&-2097153},n.prototype._isBound=function(){return(this._bitField&2097152)===2097152},n.bind=function(u,c){return n.resolve(c).bind(u)}}},{}],4:[function(t,e,r){"use strict";var n;typeof Promise<"u"&&(n=Promise);function i(){try{Promise===o&&(Promise=n)}catch{}return o}var o=t("./promise")();o.noConflict=i,e.exports=o},{"./promise":22}],5:[function(t,e,r){"use strict";var n=Object.create;if(n){var i=n(null),o=n(null);i[" size"]=o[" size"]=0}e.exports=function(a){var d=t("./util"),p=d.canEvaluate,g=d.isIdentifier,h,s;if(!1)var u,c,l;function y(T,x){var O;if(T!=null&&(O=T[x]),typeof O!="function"){var b="Object "+d.classString(T)+" has no method '"+d.toString(x)+"'";throw new a.TypeError(b)}return O}function f(T){var x=this.pop(),O=y(T,x);return O.apply(T,this)}a.prototype.call=function(T){var x=[].slice.call(arguments,1);if(!1&&p)var O;return x.push(T),this._then(f,void 0,void 0,x,void 0)};function _(T){return T[this]}function E(T){var x=+this;return x<0&&(x=Math.max(0,x+T.length)),T[x]}a.prototype.get=function(T){var x=typeof T=="number",O;if(x)O=E;else if(p){var b=s(T);O=b!==null?b:_}else O=_;return this._then(O,void 0,void 0,T,void 0)}}},{"./util":36}],6:[function(t,e,r){"use strict";e.exports=function(n,i,o,a){var d=t("./util"),p=d.tryCatch,g=d.errorObj,h=n._async;n.prototype.break=n.prototype.cancel=function(){if(!a.cancellation())return this._warn("cancellation is disabled");for(var s=this,u=s;s._isCancellable();){if(!s._cancelBy(u)){u._isFollowing()?u._followee().cancel():u._cancelBranched();break}var c=s._cancellationParent;if(c==null||!c._isCancellable()){s._isFollowing()?s._followee().cancel():s._cancelBranched();break}else s._isFollowing()&&s._followee().cancel(),s._setWillBeCancelled(),u=s,s=c}},n.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},n.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},n.prototype._cancelBy=function(s){return s===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},n.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},n.prototype._cancel=function(){!this._isCancellable()||(this._setCancelled(),h.invoke(this._cancelPromises,this,void 0))},n.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},n.prototype._unsetOnCancel=function(){this._onCancelField=void 0},n.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},n.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},n.prototype._doInvokeOnCancel=function(s,u){if(d.isArray(s))for(var c=0;c<s.length;++c)this._doInvokeOnCancel(s[c],u);else if(s!==void 0)if(typeof s=="function"){if(!u){var l=p(s).call(this._boundValue());l===g&&(this._attachExtraTrace(l.e),h.throwLater(l.e))}}else s._resultCancelled(this)},n.prototype._invokeOnCancel=function(){var s=this._onCancel();this._unsetOnCancel(),h.invoke(this._doInvokeOnCancel,this,s)},n.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},n.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,e,r){"use strict";e.exports=function(n){var i=t("./util"),o=t("./es5").keys,a=i.tryCatch,d=i.errorObj;function p(g,h,s){return function(u){var c=s._boundValue();e:for(var l=0;l<g.length;++l){var y=g[l];if(y===Error||y!=null&&y.prototype instanceof Error){if(u instanceof y)return a(h).call(c,u)}else if(typeof y=="function"){var f=a(y).call(c,u);if(f===d)return f;if(f)return a(h).call(c,u)}else if(i.isObject(u)){for(var _=o(y),E=0;E<_.length;++E){var T=_[E];if(y[T]!=u[T])continue e}return a(h).call(c,u)}}return n}}return p}},{"./es5":13,"./util":36}],8:[function(t,e,r){"use strict";e.exports=function(n){var i=!1,o=[];n.prototype._promiseCreated=function(){},n.prototype._pushContext=function(){},n.prototype._popContext=function(){return null},n._peekContext=n.prototype._peekContext=function(){};function a(){this._trace=new a.CapturedTrace(p())}a.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,o.push(this._trace))},a.prototype._popContext=function(){if(this._trace!==void 0){var g=o.pop(),h=g._promiseCreated;return g._promiseCreated=null,h}return null};function d(){if(i)return new a}function p(){var g=o.length-1;if(g>=0)return o[g]}return a.CapturedTrace=null,a.create=d,a.deactivateLongStackTraces=function(){},a.activateLongStackTraces=function(){var g=n.prototype._pushContext,h=n.prototype._popContext,s=n._peekContext,u=n.prototype._peekContext,c=n.prototype._promiseCreated;a.deactivateLongStackTraces=function(){n.prototype._pushContext=g,n.prototype._popContext=h,n._peekContext=s,n.prototype._peekContext=u,n.prototype._promiseCreated=c,i=!1},i=!0,n.prototype._pushContext=a.prototype._pushContext,n.prototype._popContext=a.prototype._popContext,n._peekContext=n.prototype._peekContext=p,n.prototype._promiseCreated=function(){var l=this._peekContext();l&&l._promiseCreated==null&&(l._promiseCreated=this)}},a}},{}],9:[function(t,e,r){"use strict";e.exports=function(n,i,o,a){var d=n._async,p=t("./errors").Warning,g=t("./util"),h=t("./es5"),s=g.canAttachTrace,u,c,l=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,y=/\((?:timers\.js):\d+:\d+\)/,f=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,_=null,E=null,T=!1,x,O=g.env("BLUEBIRD_DEBUG")!=0,b=!!(g.env("BLUEBIRD_WARNINGS")!=0&&(O||g.env("BLUEBIRD_WARNINGS"))),U=!!(g.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(O||g.env("BLUEBIRD_LONG_STACK_TRACES"))),V=g.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(b||!!g.env("BLUEBIRD_W_FORGOTTEN_RETURN")),oe;(function(){var m=[];function C(){for(var I=0;I<m.length;++I)m[I]._notifyUnhandledRejection();R()}function R(){m.length=0}oe=function(I){m.push(I),setTimeout(C,1)},h.defineProperty(n,"_unhandledRejectionCheck",{value:C}),h.defineProperty(n,"_unhandledRejectionClear",{value:R})})(),n.prototype.suppressUnhandledRejections=function(){var m=this._target();m._bitField=m._bitField&-1048577|524288},n.prototype._ensurePossibleRejectionHandled=function(){(this._bitField&524288)===0&&(this._setRejectionIsUnhandled(),oe(this))},n.prototype._notifyUnhandledRejectionIsHandled=function(){ar("rejectionHandled",u,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},n.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var m=this._settledValue();this._setUnhandledRejectionIsNotified(),ar("unhandledRejection",c,m,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},n.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},n.prototype._warn=function(m,C,R){return te(m,C,R||this)},n.onPossiblyUnhandledRejection=function(m){var C=n._getContext();c=g.contextBind(C,m)},n.onUnhandledRejectionHandled=function(m){var C=n._getContext();u=g.contextBind(C,m)};var $=function(){};n.longStackTraces=function(){if(d.haveItemsQueued()&&!se.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!se.longStackTraces&&bt()){var m=n.prototype._captureStackTrace,C=n.prototype._attachExtraTrace,R=n.prototype._dereferenceTrace;se.longStackTraces=!0,$=function(){if(d.haveItemsQueued()&&!se.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);n.prototype._captureStackTrace=m,n.prototype._attachExtraTrace=C,n.prototype._dereferenceTrace=R,i.deactivateLongStackTraces(),se.longStackTraces=!1},n.prototype._captureStackTrace=A,n.prototype._attachExtraTrace=k,n.prototype._dereferenceTrace=B,i.activateLongStackTraces()}},n.hasLongStackTraces=function(){return se.longStackTraces&&bt()};var z={unhandledrejection:{before:function(){var m=g.global.onunhandledrejection;return g.global.onunhandledrejection=null,m},after:function(m){g.global.onunhandledrejection=m}},rejectionhandled:{before:function(){var m=g.global.onrejectionhandled;return g.global.onrejectionhandled=null,m},after:function(m){g.global.onrejectionhandled=m}}},J=function(){var m=function(R,I){if(R){var N;try{return N=R.before(),!g.global.dispatchEvent(I)}finally{R.after(N)}}else return!g.global.dispatchEvent(I)};try{if(typeof CustomEvent=="function"){var C=new CustomEvent("CustomEvent");return g.global.dispatchEvent(C),function(R,I){R=R.toLowerCase();var N={detail:I,cancelable:!0},W=new CustomEvent(R,N);return h.defineProperty(W,"promise",{value:I.promise}),h.defineProperty(W,"reason",{value:I.reason}),m(z[R],W)}}else if(typeof Event=="function"){var C=new Event("CustomEvent");return g.global.dispatchEvent(C),function(I,N){I=I.toLowerCase();var W=new Event(I,{cancelable:!0});return W.detail=N,h.defineProperty(W,"promise",{value:N.promise}),h.defineProperty(W,"reason",{value:N.reason}),m(z[I],W)}}else{var C=document.createEvent("CustomEvent");return C.initCustomEvent("testingtheevent",!1,!0,{}),g.global.dispatchEvent(C),function(I,N){I=I.toLowerCase();var W=document.createEvent("CustomEvent");return W.initCustomEvent(I,!1,!0,N),m(z[I],W)}}}catch{}return function(){return!1}}(),fe=function(){return g.isNode?function(){return process.emit.apply(process,arguments)}:g.global?function(m){var C="on"+m.toLowerCase(),R=g.global[C];return R?(R.apply(g.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}}();function X(m,C){return{promise:C}}var qe={promiseCreated:X,promiseFulfilled:X,promiseRejected:X,promiseResolved:X,promiseCancelled:X,promiseChained:function(m,C,R){return{promise:C,child:R}},warning:function(m,C){return{warning:C}},unhandledRejection:function(m,C,R){return{reason:C,promise:R}},rejectionHandled:X},L=function(m){var C=!1;try{C=fe.apply(null,arguments)}catch(I){d.throwLater(I),C=!0}var R=!1;try{R=J(m,qe[m].apply(null,arguments))}catch(I){d.throwLater(I),R=!0}return R||C};n.config=function(m){if(m=Object(m),"longStackTraces"in m&&(m.longStackTraces?n.longStackTraces():!m.longStackTraces&&n.hasLongStackTraces()&&$()),"warnings"in m){var C=m.warnings;se.warnings=!!C,V=se.warnings,g.isObject(C)&&"wForgottenReturn"in C&&(V=!!C.wForgottenReturn)}if("cancellation"in m&&m.cancellation&&!se.cancellation){if(d.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=w,n.prototype._propagateFrom=ee,n.prototype._onCancel=Q,n.prototype._setOnCancel=ae,n.prototype._attachCancellationCallback=G,n.prototype._execute=q,ce=ee,se.cancellation=!0}if("monitoring"in m&&(m.monitoring&&!se.monitoring?(se.monitoring=!0,n.prototype._fireEvent=L):!m.monitoring&&se.monitoring&&(se.monitoring=!1,n.prototype._fireEvent=Y)),"asyncHooks"in m&&g.nodeSupportsAsyncResource){var R=se.asyncHooks,I=!!m.asyncHooks;R!==I&&(se.asyncHooks=I,I?o():a())}return n};function Y(){return!1}n.prototype._fireEvent=Y,n.prototype._execute=function(m,C,R){try{m(C,R)}catch(I){return I}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(m){},n.prototype._attachCancellationCallback=function(m){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._dereferenceTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(m,C){};function q(m,C,R){var I=this;try{m(C,R,function(N){if(typeof N!="function")throw new TypeError("onCancel must be a function, got: "+g.toString(N));I._attachCancellationCallback(N)})}catch(N){return N}}function G(m){if(!this._isCancellable())return this;var C=this._onCancel();C!==void 0?g.isArray(C)?C.push(m):this._setOnCancel([C,m]):this._setOnCancel(m)}function Q(){return this._onCancelField}function ae(m){this._onCancelField=m}function w(){this._cancellationParent=void 0,this._onCancelField=void 0}function ee(m,C){if((C&1)!==0){this._cancellationParent=m;var R=m._branchesRemainingToCancel;R===void 0&&(R=0),m._branchesRemainingToCancel=R+1}(C&2)!==0&&m._isBound()&&this._setBoundTo(m._boundTo)}function le(m,C){(C&2)!==0&&m._isBound()&&this._setBoundTo(m._boundTo)}var ce=le;function v(){var m=this._boundTo;return m!==void 0&&m instanceof n?m.isFulfilled()?m.value():void 0:m}function A(){this._trace=new nt(this._peekContext())}function k(m,C){if(s(m)){var R=this._trace;if(R!==void 0&&C&&(R=R._parent),R!==void 0)R.attachExtraTrace(m);else if(!m.__stackCleaned__){var I=ct(m);g.notEnumerableProp(m,"stack",I.message+`
`+I.stack.join(`
`)),g.notEnumerableProp(m,"__stackCleaned__",!0)}}}function B(){this._trace=void 0}function M(m,C,R,I,N){if(m===void 0&&C!==null&&V){if(N!==void 0&&N._returnedNonUndefined()||(I._bitField&65535)===0)return;R&&(R=R+" ");var W="",Z="";if(C._trace){for(var K=C._trace.stack.split(`
`),re=Qe(K),ue=re.length-1;ue>=0;--ue){var Le=re[ue];if(!y.test(Le)){var Ne=Le.match(f);Ne&&(W="at "+Ne[1]+":"+Ne[2]+":"+Ne[3]+" ");break}}if(re.length>0){for(var Cn=re[0],ue=0;ue<K.length;++ue)if(K[ue]===Cn){ue>0&&(Z=`
`+K[ue-1]);break}}}var Tn="a promise was created in a "+R+"handler "+W+"but was not returned from it, see http://goo.gl/rRqMUw"+Z;I._warn(Tn,!0,C)}}function H(m,C){var R=m+" is deprecated and will be removed in a future version.";return C&&(R+=" Use "+C+" instead."),te(R)}function te(m,C,R){if(!!se.warnings){var I=new p(m),N;if(C)R._attachExtraTrace(I);else if(se.longStackTraces&&(N=n._peekContext()))N.attachExtraTrace(I);else{var W=ct(I);I.stack=W.message+`
`+W.stack.join(`
`)}L("warning",I)||or(I,"",!0)}}function ge(m,C){for(var R=0;R<C.length-1;++R)C[R].push("From previous event:"),C[R]=C[R].join(`
`);return R<C.length&&(C[R]=C[R].join(`
`)),m+`
`+C.join(`
`)}function at(m){for(var C=0;C<m.length;++C)(m[C].length===0||C+1<m.length&&m[C][0]===m[C+1][0])&&(m.splice(C,1),C--)}function ft(m){for(var C=m[0],R=1;R<m.length;++R){for(var I=m[R],N=C.length-1,W=C[N],Z=-1,K=I.length-1;K>=0;--K)if(I[K]===W){Z=K;break}for(var K=Z;K>=0;--K){var re=I[K];if(C[N]===re)C.pop(),N--;else break}C=I}}function Qe(m){for(var C=[],R=0;R<m.length;++R){var I=m[R],N=I==="    (No stack trace)"||_.test(I),W=N&&Ot(I);N&&!W&&(T&&I.charAt(0)!==" "&&(I="    "+I),C.push(I))}return C}function rt(m){for(var C=m.stack.replace(/\s+$/g,"").split(`
`),R=0;R<C.length;++R){var I=C[R];if(I==="    (No stack trace)"||_.test(I))break}return R>0&&m.name!="SyntaxError"&&(C=C.slice(R)),C}function ct(m){var C=m.stack,R=m.toString();return C=typeof C=="string"&&C.length>0?rt(m):["    (No stack trace)"],{message:R,stack:m.name=="SyntaxError"?C:Qe(C)}}function or(m,C,R){if(typeof console<"u"){var I;if(g.isObject(m)){var N=m.stack;I=C+E(N,m)}else I=C+String(m);typeof x=="function"?x(I,R):(typeof console.log=="function"||typeof console.log=="object")&&console.log(I)}}function ar(m,C,R,I){var N=!1;try{typeof C=="function"&&(N=!0,m==="rejectionHandled"?C(I):C(R,I))}catch(W){d.throwLater(W)}m==="unhandledRejection"?!L(m,R,I)&&!N&&or(R,"Unhandled rejection "):L(m,I)}function cr(m){var C;if(typeof m=="function")C="[function "+(m.name||"anonymous")+"]";else{C=m&&typeof m.toString=="function"?m.toString():g.toString(m);var R=/\[object [a-zA-Z0-9$_]+\]/;if(R.test(C))try{var I=JSON.stringify(m);C=I}catch{}C.length===0&&(C="(empty array)")}return"(<"+mn(C)+">, no stack trace)"}function mn(m){var C=41;return m.length<C?m:m.substr(0,C-3)+"..."}function bt(){return typeof sr=="function"}var Ot=function(){return!1},En=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function kt(m){var C=m.match(En);if(C)return{fileName:C[1],line:parseInt(C[2],10)}}function wn(m,C){if(!!bt()){for(var R=(m.stack||"").split(`
`),I=(C.stack||"").split(`
`),N=-1,W=-1,Z,K,re=0;re<R.length;++re){var ue=kt(R[re]);if(ue){Z=ue.fileName,N=ue.line;break}}for(var re=0;re<I.length;++re){var ue=kt(I[re]);if(ue){K=ue.fileName,W=ue.line;break}}N<0||W<0||!Z||!K||Z!==K||N>=W||(Ot=function(Le){if(l.test(Le))return!0;var Ne=kt(Le);return!!(Ne&&Ne.fileName===Z&&N<=Ne.line&&Ne.line<=W)})}}function nt(m){this._parent=m,this._promisesCreated=0;var C=this._length=1+(m===void 0?0:m._length);sr(this,nt),C>32&&this.uncycle()}g.inherits(nt,Error),i.CapturedTrace=nt,nt.prototype.uncycle=function(){var m=this._length;if(!(m<2)){for(var C=[],R={},I=0,N=this;N!==void 0;++I)C.push(N),N=N._parent;m=this._length=I;for(var I=m-1;I>=0;--I){var W=C[I].stack;R[W]===void 0&&(R[W]=I)}for(var I=0;I<m;++I){var Z=C[I].stack,K=R[Z];if(K!==void 0&&K!==I){K>0&&(C[K-1]._parent=void 0,C[K-1]._length=1),C[I]._parent=void 0,C[I]._length=1;var re=I>0?C[I-1]:this;K<m-1?(re._parent=C[K+1],re._parent.uncycle(),re._length=re._parent._length+1):(re._parent=void 0,re._length=1);for(var ue=re._length+1,Le=I-2;Le>=0;--Le)C[Le]._length=ue,ue++;return}}}},nt.prototype.attachExtraTrace=function(m){if(!m.__stackCleaned__){this.uncycle();for(var C=ct(m),R=C.message,I=[C.stack],N=this;N!==void 0;)I.push(Qe(N.stack.split(`
`))),N=N._parent;ft(I),at(I),g.notEnumerableProp(m,"stack",ge(R,I)),g.notEnumerableProp(m,"__stackCleaned__",!0)}};var sr=function(){var C=/^\s*at\s*/,R=function(Z,K){return typeof Z=="string"?Z:K.name!==void 0&&K.message!==void 0?K.toString():cr(K)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,_=C,E=R;var I=Error.captureStackTrace;return Ot=function(Z){return l.test(Z)},function(Z,K){Error.stackTraceLimit+=6,I(Z,K),Error.stackTraceLimit-=6}}var N=new Error;if(typeof N.stack=="string"&&N.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return _=/@/,E=R,T=!0,function(K){K.stack=new Error().stack};var W;try{throw new Error}catch(Z){W="stack"in Z}return!("stack"in N)&&W&&typeof Error.stackTraceLimit=="number"?(_=C,E=R,function(K){Error.stackTraceLimit+=6;try{throw new Error}catch(re){K.stack=re.stack}Error.stackTraceLimit-=6}):(E=function(Z,K){return typeof Z=="string"?Z:(typeof K=="object"||typeof K=="function")&&K.name!==void 0&&K.message!==void 0?K.toString():cr(K)},null)}([]);typeof console<"u"&&typeof console.warn<"u"&&(x=function(m){console.warn(m)},g.isNode&&process.stderr.isTTY?x=function(m,C){var R=C?"\x1B[33m":"\x1B[31m";console.warn(R+m+`\x1B[0m
`)}:!g.isNode&&typeof new Error().stack=="string"&&(x=function(m,C){console.warn("%c"+m,C?"color: darkorange":"color: red")}));var se={warnings:b,longStackTraces:!1,cancellation:!1,monitoring:!1,asyncHooks:!1};return U&&n.longStackTraces(),{asyncHooks:function(){return se.asyncHooks},longStackTraces:function(){return se.longStackTraces},warnings:function(){return se.warnings},cancellation:function(){return se.cancellation},monitoring:function(){return se.monitoring},propagateFromFunction:function(){return ce},boundValueFunction:function(){return v},checkForgottenReturns:M,setBounds:wn,warn:te,deprecated:H,CapturedTrace:nt,fireDomEvent:J,fireGlobalEvent:fe}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,e,r){"use strict";e.exports=function(n){function i(){return this.value}function o(){throw this.reason}n.prototype.return=n.prototype.thenReturn=function(a){return a instanceof n&&a.suppressUnhandledRejections(),this._then(i,void 0,void 0,{value:a},void 0)},n.prototype.throw=n.prototype.thenThrow=function(a){return this._then(o,void 0,void 0,{reason:a},void 0)},n.prototype.catchThrow=function(a){if(arguments.length<=1)return this._then(void 0,o,void 0,{reason:a},void 0);var d=arguments[1],p=function(){throw d};return this.caught(a,p)},n.prototype.catchReturn=function(a){if(arguments.length<=1)return a instanceof n&&a.suppressUnhandledRejections(),this._then(void 0,i,void 0,{value:a},void 0);var d=arguments[1];d instanceof n&&d.suppressUnhandledRejections();var p=function(){return d};return this.caught(a,p)}}},{}],11:[function(t,e,r){"use strict";e.exports=function(n,i){var o=n.reduce,a=n.all;function d(){return a(this)}function p(g,h){return o(g,h,i,i)}n.prototype.each=function(g){return o(this,g,i,0)._then(d,void 0,void 0,this,void 0)},n.prototype.mapSeries=function(g){return o(this,g,i,i)},n.each=function(g,h){return o(g,h,i,0)._then(d,void 0,void 0,g,void 0)},n.mapSeries=p}},{}],12:[function(t,e,r){"use strict";var n=t("./es5"),i=n.freeze,o=t("./util"),a=o.inherits,d=o.notEnumerableProp;function p(x,O){function b(U){if(!(this instanceof b))return new b(U);d(this,"message",typeof U=="string"?U:O),d(this,"name",x),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return a(b,Error),b}var g,h,s=p("Warning","warning"),u=p("CancellationError","cancellation error"),c=p("TimeoutError","timeout error"),l=p("AggregateError","aggregate error");try{g=TypeError,h=RangeError}catch{g=p("TypeError","type error"),h=p("RangeError","range error")}for(var y="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),f=0;f<y.length;++f)typeof Array.prototype[y[f]]=="function"&&(l.prototype[y[f]]=Array.prototype[y[f]]);n.defineProperty(l.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),l.prototype.isOperational=!0;var _=0;l.prototype.toString=function(){var x=Array(_*4+1).join(" "),O=`
`+x+`AggregateError of:
`;_++,x=Array(_*4+1).join(" ");for(var b=0;b<this.length;++b){for(var U=this[b]===this?"[Circular AggregateError]":this[b]+"",V=U.split(`
`),oe=0;oe<V.length;++oe)V[oe]=x+V[oe];U=V.join(`
`),O+=U+`
`}return _--,O};function E(x){if(!(this instanceof E))return new E(x);d(this,"name","OperationalError"),d(this,"message",x),this.cause=x,this.isOperational=!0,x instanceof Error?(d(this,"message",x.message),d(this,"stack",x.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}a(E,Error);var T=Error.__BluebirdErrorTypes__;T||(T=i({CancellationError:u,TimeoutError:c,OperationalError:E,RejectionError:E,AggregateError:l}),n.defineProperty(Error,"__BluebirdErrorTypes__",{value:T,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error,TypeError:g,RangeError:h,CancellationError:T.CancellationError,OperationalError:T.OperationalError,TimeoutError:T.TimeoutError,AggregateError:T.AggregateError,Warning:s}},{"./es5":13,"./util":36}],13:[function(t,e,r){var n=function(){"use strict";return this===void 0}();if(n)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:n,propertyIsWritable:function(c,l){var y=Object.getOwnPropertyDescriptor(c,l);return!!(!y||y.writable||y.set)}};else{var i={}.hasOwnProperty,o={}.toString,a={}.constructor.prototype,d=function(c){var l=[];for(var y in c)i.call(c,y)&&l.push(y);return l},p=function(c,l){return{value:c[l]}},g=function(c,l,y){return c[l]=y.value,c},h=function(c){return c},s=function(c){try{return Object(c).constructor.prototype}catch{return a}},u=function(c){try{return o.call(c)==="[object Array]"}catch{return!1}};e.exports={isArray:u,keys:d,names:d,defineProperty:g,getDescriptor:p,freeze:h,getPrototypeOf:s,isES5:n,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,e,r){"use strict";e.exports=function(n,i){var o=n.map;n.prototype.filter=function(a,d){return o(this,a,d,i)},n.filter=function(a,d,p){return o(a,d,p,i)}}},{}],15:[function(t,e,r){"use strict";e.exports=function(n,i,o){var a=t("./util"),d=n.CancellationError,p=a.errorObj,g=t("./catch_filter")(o);function h(f,_,E){this.promise=f,this.type=_,this.handler=E,this.called=!1,this.cancelPromise=null}h.prototype.isFinallyHandler=function(){return this.type===0};function s(f){this.finallyHandler=f}s.prototype._resultCancelled=function(){u(this.finallyHandler)};function u(f,_){return f.cancelPromise!=null?(arguments.length>1?f.cancelPromise._reject(_):f.cancelPromise._cancel(),f.cancelPromise=null,!0):!1}function c(){return y.call(this,this.promise._target()._settledValue())}function l(f){if(!u(this,f))return p.e=f,p}function y(f){var _=this.promise,E=this.handler;if(!this.called){this.called=!0;var T=this.isFinallyHandler()?E.call(_._boundValue()):E.call(_._boundValue(),f);if(T===o)return T;if(T!==void 0){_._setReturnedNonUndefined();var x=i(T,_);if(x instanceof n){if(this.cancelPromise!=null)if(x._isCancelled()){var O=new d("late cancellation observer");return _._attachExtraTrace(O),p.e=O,p}else x.isPending()&&x._attachCancellationCallback(new s(this));return x._then(c,l,void 0,this,void 0)}}}return _.isRejected()?(u(this),p.e=f,p):(u(this),f)}return n.prototype._passThrough=function(f,_,E,T){return typeof f!="function"?this.then():this._then(E,T,void 0,new h(this,_,f),void 0)},n.prototype.lastly=n.prototype.finally=function(f){return this._passThrough(f,0,y,y)},n.prototype.tap=function(f){return this._passThrough(f,1,y)},n.prototype.tapCatch=function(f){var _=arguments.length;if(_===1)return this._passThrough(f,1,void 0,y);var E=new Array(_-1),T=0,x;for(x=0;x<_-1;++x){var O=arguments[x];if(a.isObject(O))E[T++]=O;else return n.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+a.classString(O)))}E.length=T;var b=arguments[x];return this._passThrough(g(E,b,this),1,void 0,y)},h}},{"./catch_filter":7,"./util":36}],16:[function(t,e,r){"use strict";e.exports=function(n,i,o,a,d,p){var g=t("./errors"),h=g.TypeError,s=t("./util"),u=s.errorObj,c=s.tryCatch,l=[];function y(_,E,T){for(var x=0;x<E.length;++x){T._pushContext();var O=c(E[x])(_);if(T._popContext(),O===u){T._pushContext();var b=n.reject(u.e);return T._popContext(),b}var U=a(O,T);if(U instanceof n)return U}return null}function f(_,E,T,x){if(p.cancellation()){var O=new n(o),b=this._finallyPromise=new n(o);this._promise=O.lastly(function(){return b}),O._captureStackTrace(),O._setOnCancel(this)}else{var U=this._promise=new n(o);U._captureStackTrace()}this._stack=x,this._generatorFunction=_,this._receiver=E,this._generator=void 0,this._yieldHandlers=typeof T=="function"?[T].concat(l):l,this._yieldedPromise=null,this._cancellationPhase=!1}s.inherits(f,d),f.prototype._isResolved=function(){return this._promise===null},f.prototype._cleanup=function(){this._promise=this._generator=null,p.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},f.prototype._promiseCancelled=function(){if(!this._isResolved()){var _=typeof this._generator.return<"u",E;if(_)this._promise._pushContext(),E=c(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var T=new n.CancellationError("generator .return() sentinel");n.coroutine.returnSentinel=T,this._promise._attachExtraTrace(T),this._promise._pushContext(),E=c(this._generator.throw).call(this._generator,T),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(E)}},f.prototype._promiseFulfilled=function(_){this._yieldedPromise=null,this._promise._pushContext();var E=c(this._generator.next).call(this._generator,_);this._promise._popContext(),this._continue(E)},f.prototype._promiseRejected=function(_){this._yieldedPromise=null,this._promise._attachExtraTrace(_),this._promise._pushContext();var E=c(this._generator.throw).call(this._generator,_);this._promise._popContext(),this._continue(E)},f.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof n){var _=this._yieldedPromise;this._yieldedPromise=null,_.cancel()}},f.prototype.promise=function(){return this._promise},f.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},f.prototype._continue=function(_){var E=this._promise;if(_===u)return this._cleanup(),this._cancellationPhase?E.cancel():E._rejectCallback(_.e,!1);var T=_.value;if(_.done===!0)return this._cleanup(),this._cancellationPhase?E.cancel():E._resolveCallback(T);var x=a(T,this._promise);if(!(x instanceof n)&&(x=y(x,this._yieldHandlers,this._promise),x===null)){this._promiseRejected(new h(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",String(T))+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}x=x._target();var O=x._bitField;(O&50397184)===0?(this._yieldedPromise=x,x._proxy(this,null)):(O&33554432)!==0?n._async.invoke(this._promiseFulfilled,this,x._value()):(O&16777216)!==0?n._async.invoke(this._promiseRejected,this,x._reason()):this._promiseCancelled()},n.coroutine=function(_,E){if(typeof _!="function")throw new h(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var T=Object(E).yieldHandler,x=f,O=new Error().stack;return function(){var b=_.apply(this,arguments),U=new x(void 0,void 0,T,O),V=U.promise();return U._generator=b,U._promiseFulfilled(void 0),V}},n.coroutine.addYieldHandler=function(_){if(typeof _!="function")throw new h("expecting a function but got "+s.classString(_));l.push(_)},n.spawn=function(_){if(p.deprecated("Promise.spawn()","Promise.coroutine()"),typeof _!="function")return i(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var E=new f(_,this),T=E.promise();return E._run(n.spawn),T}}},{"./errors":12,"./util":36}],17:[function(t,e,r){"use strict";e.exports=function(n,i,o,a,d){var p=t("./util"),g=p.canEvaluate,h=p.tryCatch,s=p.errorObj,u;if(!1&&g){var c,l,y,f,_,E;for(var T;T<8;++T);}n.join=function(){var x=arguments.length-1,O;if(x>0&&typeof arguments[x]=="function"&&(O=arguments[x],!1&&x<=8&&g)){var X,b,U,V;for(var oe;oe<x;++oe){var $;if($ instanceof n)var z}if(!X._isFateSealed()&&U.asyncNeeded)var J}var fe=[].slice.call(arguments);O&&fe.pop();var X=new i(fe).promise();return O!==void 0?X.spread(O):X}}},{"./util":36}],18:[function(t,e,r){"use strict";e.exports=function(n,i,o,a,d,p){var g=t("./util"),h=g.tryCatch,s=g.errorObj,u=n._async;function c(y,f,_,E){this.constructor$(y),this._promise._captureStackTrace();var T=n._getContext();if(this._callback=g.contextBind(T,f),this._preservedValues=E===d?new Array(this.length()):null,this._limit=_,this._inFlight=0,this._queue=[],u.invoke(this._asyncInit,this,void 0),g.isArray(y))for(var x=0;x<y.length;++x){var O=y[x];O instanceof n&&O.suppressUnhandledRejections()}}g.inherits(c,i),c.prototype._asyncInit=function(){this._init$(void 0,-2)},c.prototype._init=function(){},c.prototype._promiseFulfilled=function(y,f){var _=this._values,E=this.length(),T=this._preservedValues,x=this._limit;if(f<0){if(f=f*-1-1,_[f]=y,x>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(x>=1&&this._inFlight>=x)return _[f]=y,this._queue.push(f),!1;T!==null&&(T[f]=y);var O=this._promise,b=this._callback,U=O._boundValue();O._pushContext();var V=h(b).call(U,y,f,E),oe=O._popContext();if(p.checkForgottenReturns(V,oe,T!==null?"Promise.filter":"Promise.map",O),V===s)return this._reject(V.e),!0;var $=a(V,this._promise);if($ instanceof n){$=$._target();var z=$._bitField;if((z&50397184)===0)return x>=1&&this._inFlight++,_[f]=$,$._proxy(this,(f+1)*-1),!1;if((z&33554432)!==0)V=$._value();else return(z&16777216)!==0?(this._reject($._reason()),!0):(this._cancel(),!0)}_[f]=V}var J=++this._totalResolved;return J>=E?(T!==null?this._filter(_,T):this._resolve(_),!0):!1},c.prototype._drainQueue=function(){for(var y=this._queue,f=this._limit,_=this._values;y.length>0&&this._inFlight<f;){if(this._isResolved())return;var E=y.pop();this._promiseFulfilled(_[E],E)}},c.prototype._filter=function(y,f){for(var _=f.length,E=new Array(_),T=0,x=0;x<_;++x)y[x]&&(E[T++]=f[x]);E.length=T,this._resolve(E)},c.prototype.preservedValues=function(){return this._preservedValues};function l(y,f,_,E){if(typeof f!="function")return o("expecting a function but got "+g.classString(f));var T=0;if(_!==void 0)if(typeof _=="object"&&_!==null){if(typeof _.concurrency!="number")return n.reject(new TypeError("'concurrency' must be a number but it is "+g.classString(_.concurrency)));T=_.concurrency}else return n.reject(new TypeError("options argument must be an object but it is "+g.classString(_)));return T=typeof T=="number"&&isFinite(T)&&T>=1?T:0,new c(y,f,T,E).promise()}n.prototype.map=function(y,f){return l(this,y,f,null)},n.map=function(y,f,_,E){return l(y,f,_,E)}}},{"./util":36}],19:[function(t,e,r){"use strict";e.exports=function(n,i,o,a,d){var p=t("./util"),g=p.tryCatch;n.method=function(h){if(typeof h!="function")throw new n.TypeError("expecting a function but got "+p.classString(h));return function(){var s=new n(i);s._captureStackTrace(),s._pushContext();var u=g(h).apply(this,arguments),c=s._popContext();return d.checkForgottenReturns(u,c,"Promise.method",s),s._resolveFromSyncValue(u),s}},n.attempt=n.try=function(h){if(typeof h!="function")return a("expecting a function but got "+p.classString(h));var s=new n(i);s._captureStackTrace(),s._pushContext();var u;if(arguments.length>1){d.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],l=arguments[2];u=p.isArray(c)?g(h).apply(l,c):g(h).call(l,c)}else u=g(h)();var y=s._popContext();return d.checkForgottenReturns(u,y,"Promise.try",s),s._resolveFromSyncValue(u),s},n.prototype._resolveFromSyncValue=function(h){h===p.errorObj?this._rejectCallback(h.e,!1):this._resolveCallback(h,!0)}}},{"./util":36}],20:[function(t,e,r){"use strict";var n=t("./util"),i=n.maybeWrapAsError,o=t("./errors"),a=o.OperationalError,d=t("./es5");function p(u){return u instanceof Error&&d.getPrototypeOf(u)===Error.prototype}var g=/^(?:name|message|stack|cause)$/;function h(u){var c;if(p(u)){c=new a(u),c.name=u.name,c.message=u.message,c.stack=u.stack;for(var l=d.keys(u),y=0;y<l.length;++y){var f=l[y];g.test(f)||(c[f]=u[f])}return c}return n.markAsOriginatingFromRejection(u),u}function s(u,c){return function(l,y){if(u!==null){if(l){var f=h(i(l));u._attachExtraTrace(f),u._reject(f)}else if(!c)u._fulfill(y);else{var _=[].slice.call(arguments,1);u._fulfill(_)}u=null}}}e.exports=s},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,e,r){"use strict";e.exports=function(n){var i=t("./util"),o=n._async,a=i.tryCatch,d=i.errorObj;function p(s,u){var c=this;if(!i.isArray(s))return g.call(c,s,u);var l=a(u).apply(c._boundValue(),[null].concat(s));l===d&&o.throwLater(l.e)}function g(s,u){var c=this,l=c._boundValue(),y=s===void 0?a(u).call(l,null):a(u).call(l,null,s);y===d&&o.throwLater(y.e)}function h(s,u){var c=this;if(!s){var l=new Error(s+"");l.cause=s,s=l}var y=a(u).call(c._boundValue(),s);y===d&&o.throwLater(y.e)}n.prototype.asCallback=n.prototype.nodeify=function(s,u){if(typeof s=="function"){var c=g;u!==void 0&&Object(u).spread&&(c=p),this._then(c,h,void 0,this,s)}return this}}},{"./util":36}],22:[function(t,e,r){"use strict";e.exports=function(){var n=function(){return new O(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},i=function(){return new w.PromiseInspection(this._target())},o=function(v){return w.reject(new O(v))};function a(){}var d={},p=t("./util");p.setReflectHandler(i);var g=function(){var v=process.domain;return v===void 0?null:v},h=function(){return null},s=function(){return{domain:g(),async:null}},u=p.isNode&&p.nodeSupportsAsyncResource?t("async_hooks").AsyncResource:null,c=function(){return{domain:g(),async:new u("Bluebird::Promise")}},l=p.isNode?s:h;p.notEnumerableProp(w,"_getContext",l);var y=function(){l=c,p.notEnumerableProp(w,"_getContext",c)},f=function(){l=s,p.notEnumerableProp(w,"_getContext",s)},_=t("./es5"),E=t("./async"),T=new E;_.defineProperty(w,"_async",{value:T});var x=t("./errors"),O=w.TypeError=x.TypeError;w.RangeError=x.RangeError;var b=w.CancellationError=x.CancellationError;w.TimeoutError=x.TimeoutError,w.OperationalError=x.OperationalError,w.RejectionError=x.OperationalError,w.AggregateError=x.AggregateError;var U=function(){},V={},oe={},$=t("./thenables")(w,U),z=t("./promise_array")(w,U,$,o,a),J=t("./context")(w),fe=J.create,X=t("./debuggability")(w,J,y,f),qe=X.CapturedTrace,L=t("./finally")(w,$,oe),Y=t("./catch_filter")(oe),q=t("./nodeback"),G=p.errorObj,Q=p.tryCatch;function ae(v,A){if(v==null||v.constructor!==w)throw new O(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`);if(typeof A!="function")throw new O("expecting a function but got "+p.classString(A))}function w(v){v!==U&&ae(this,v),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(v),this._promiseCreated(),this._fireEvent("promiseCreated",this)}w.prototype.toString=function(){return"[object Promise]"},w.prototype.caught=w.prototype.catch=function(v){var A=arguments.length;if(A>1){var k=new Array(A-1),B=0,M;for(M=0;M<A-1;++M){var H=arguments[M];if(p.isObject(H))k[B++]=H;else return o("Catch statement predicate: expecting an object but got "+p.classString(H))}if(k.length=B,v=arguments[M],typeof v!="function")throw new O("The last argument to .catch() must be a function, got "+p.toString(v));return this.then(void 0,Y(k,v,this))}return this.then(void 0,v)},w.prototype.reflect=function(){return this._then(i,i,void 0,this,void 0)},w.prototype.then=function(v,A){if(X.warnings()&&arguments.length>0&&typeof v!="function"&&typeof A!="function"){var k=".then() only accepts functions but was passed: "+p.classString(v);arguments.length>1&&(k+=", "+p.classString(A)),this._warn(k)}return this._then(v,A,void 0,void 0,void 0)},w.prototype.done=function(v,A){var k=this._then(v,A,void 0,void 0,void 0);k._setIsFinal()},w.prototype.spread=function(v){return typeof v!="function"?o("expecting a function but got "+p.classString(v)):this.all()._then(v,void 0,void 0,V,void 0)},w.prototype.toJSON=function(){var v={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(v.fulfillmentValue=this.value(),v.isFulfilled=!0):this.isRejected()&&(v.rejectionReason=this.reason(),v.isRejected=!0),v},w.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new z(this).promise()},w.prototype.error=function(v){return this.caught(p.originatesFromRejection,v)},w.getNewLibraryCopy=e.exports,w.is=function(v){return v instanceof w},w.fromNode=w.fromCallback=function(v){var A=new w(U);A._captureStackTrace();var k=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,B=Q(v)(q(A,k));return B===G&&A._rejectCallback(B.e,!0),A._isFateSealed()||A._setAsyncGuaranteed(),A},w.all=function(v){return new z(v).promise()},w.cast=function(v){var A=$(v);return A instanceof w||(A=new w(U),A._captureStackTrace(),A._setFulfilled(),A._rejectionHandler0=v),A},w.resolve=w.fulfilled=w.cast,w.reject=w.rejected=function(v){var A=new w(U);return A._captureStackTrace(),A._rejectCallback(v,!0),A},w.setScheduler=function(v){if(typeof v!="function")throw new O("expecting a function but got "+p.classString(v));return T.setScheduler(v)},w.prototype._then=function(v,A,k,B,M){var H=M!==void 0,te=H?M:new w(U),ge=this._target(),at=ge._bitField;H||(te._propagateFrom(this,3),te._captureStackTrace(),B===void 0&&(this._bitField&2097152)!==0&&((at&50397184)!==0?B=this._boundValue():B=ge===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,te));var ft=l();if((at&50397184)!==0){var Qe,rt,ct=ge._settlePromiseCtx;(at&33554432)!==0?(rt=ge._rejectionHandler0,Qe=v):(at&16777216)!==0?(rt=ge._fulfillmentHandler0,Qe=A,ge._unsetRejectionIsUnhandled()):(ct=ge._settlePromiseLateCancellationObserver,rt=new b("late cancellation observer"),ge._attachExtraTrace(rt),Qe=A),T.invoke(ct,ge,{handler:p.contextBind(ft,Qe),promise:te,receiver:B,value:rt})}else ge._addCallbacks(v,A,te,B,ft);return te},w.prototype._length=function(){return this._bitField&65535},w.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},w.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},w.prototype._setLength=function(v){this._bitField=this._bitField&-65536|v&65535},w.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},w.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},w.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},w.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},w.prototype._isFinal=function(){return(this._bitField&4194304)>0},w.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},w.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},w.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},w.prototype._setAsyncGuaranteed=function(){if(!T.hasCustomScheduler()){var v=this._bitField;this._bitField=v|(v&536870912)>>2^134217728}},w.prototype._setNoAsyncGuarantee=function(){this._bitField=(this._bitField|536870912)&-134217729},w.prototype._receiverAt=function(v){var A=v===0?this._receiver0:this[v*4-4+3];if(A!==d)return A===void 0&&this._isBound()?this._boundValue():A},w.prototype._promiseAt=function(v){return this[v*4-4+2]},w.prototype._fulfillmentHandlerAt=function(v){return this[v*4-4+0]},w.prototype._rejectionHandlerAt=function(v){return this[v*4-4+1]},w.prototype._boundValue=function(){},w.prototype._migrateCallback0=function(v){var A=v._bitField,k=v._fulfillmentHandler0,B=v._rejectionHandler0,M=v._promise0,H=v._receiverAt(0);H===void 0&&(H=d),this._addCallbacks(k,B,M,H,null)},w.prototype._migrateCallbackAt=function(v,A){var k=v._fulfillmentHandlerAt(A),B=v._rejectionHandlerAt(A),M=v._promiseAt(A),H=v._receiverAt(A);H===void 0&&(H=d),this._addCallbacks(k,B,M,H,null)},w.prototype._addCallbacks=function(v,A,k,B,M){var H=this._length();if(H>=65535-4&&(H=0,this._setLength(0)),H===0)this._promise0=k,this._receiver0=B,typeof v=="function"&&(this._fulfillmentHandler0=p.contextBind(M,v)),typeof A=="function"&&(this._rejectionHandler0=p.contextBind(M,A));else{var te=H*4-4;this[te+2]=k,this[te+3]=B,typeof v=="function"&&(this[te+0]=p.contextBind(M,v)),typeof A=="function"&&(this[te+1]=p.contextBind(M,A))}return this._setLength(H+1),H},w.prototype._proxy=function(v,A){this._addCallbacks(void 0,void 0,A,v,null)},w.prototype._resolveCallback=function(v,A){if((this._bitField&117506048)===0){if(v===this)return this._rejectCallback(n(),!1);var k=$(v,this);if(!(k instanceof w))return this._fulfill(v);A&&this._propagateFrom(k,2);var B=k._target();if(B===this){this._reject(n());return}var M=B._bitField;if((M&50397184)===0){var H=this._length();H>0&&B._migrateCallback0(this);for(var te=1;te<H;++te)B._migrateCallbackAt(this,te);this._setFollowing(),this._setLength(0),this._setFollowee(k)}else if((M&33554432)!==0)this._fulfill(B._value());else if((M&16777216)!==0)this._reject(B._reason());else{var ge=new b("late cancellation observer");B._attachExtraTrace(ge),this._reject(ge)}}},w.prototype._rejectCallback=function(v,A,k){var B=p.ensureErrorObject(v),M=B===v;if(!M&&!k&&X.warnings()){var H="a promise was rejected with a non-error: "+p.classString(v);this._warn(H,!0)}this._attachExtraTrace(B,A?M:!1),this._reject(v)},w.prototype._resolveFromExecutor=function(v){if(v!==U){var A=this;this._captureStackTrace(),this._pushContext();var k=!0,B=this._execute(v,function(M){A._resolveCallback(M)},function(M){A._rejectCallback(M,k)});k=!1,this._popContext(),B!==void 0&&A._rejectCallback(B,!0)}},w.prototype._settlePromiseFromHandler=function(v,A,k,B){var M=B._bitField;if((M&65536)===0){B._pushContext();var H;A===V?!k||typeof k.length!="number"?(H=G,H.e=new O("cannot .spread() a non-array: "+p.classString(k))):H=Q(v).apply(this._boundValue(),k):H=Q(v).call(A,k);var te=B._popContext();M=B._bitField,(M&65536)===0&&(H===oe?B._reject(k):H===G?B._rejectCallback(H.e,!1):(X.checkForgottenReturns(H,te,"",B,this),B._resolveCallback(H)))}},w.prototype._target=function(){for(var v=this;v._isFollowing();)v=v._followee();return v},w.prototype._followee=function(){return this._rejectionHandler0},w.prototype._setFollowee=function(v){this._rejectionHandler0=v},w.prototype._settlePromise=function(v,A,k,B){var M=v instanceof w,H=this._bitField,te=(H&134217728)!==0;(H&65536)!==0?(M&&v._invokeInternalOnCancel(),k instanceof L&&k.isFinallyHandler()?(k.cancelPromise=v,Q(A).call(k,B)===G&&v._reject(G.e)):A===i?v._fulfill(i.call(k)):k instanceof a?k._promiseCancelled(v):M||v instanceof z?v._cancel():k.cancel()):typeof A=="function"?M?(te&&v._setAsyncGuaranteed(),this._settlePromiseFromHandler(A,k,B,v)):A.call(k,B,v):k instanceof a?k._isResolved()||((H&33554432)!==0?k._promiseFulfilled(B,v):k._promiseRejected(B,v)):M&&(te&&v._setAsyncGuaranteed(),(H&33554432)!==0?v._fulfill(B):v._reject(B))},w.prototype._settlePromiseLateCancellationObserver=function(v){var A=v.handler,k=v.promise,B=v.receiver,M=v.value;typeof A=="function"?k instanceof w?this._settlePromiseFromHandler(A,B,M,k):A.call(B,M,k):k instanceof w&&k._reject(M)},w.prototype._settlePromiseCtx=function(v){this._settlePromise(v.promise,v.handler,v.receiver,v.value)},w.prototype._settlePromise0=function(v,A,k){var B=this._promise0,M=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(B,v,M,A)},w.prototype._clearCallbackDataAtIndex=function(v){var A=v*4-4;this[A+2]=this[A+3]=this[A+0]=this[A+1]=void 0},w.prototype._fulfill=function(v){var A=this._bitField;if(!((A&117506048)>>>16)){if(v===this){var k=n();return this._attachExtraTrace(k),this._reject(k)}this._setFulfilled(),this._rejectionHandler0=v,(A&65535)>0&&((A&134217728)!==0?this._settlePromises():T.settlePromises(this),this._dereferenceTrace())}},w.prototype._reject=function(v){var A=this._bitField;if(!((A&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=v,this._isFinal())return T.fatalError(v,p.isNode);(A&65535)>0?T.settlePromises(this):this._ensurePossibleRejectionHandled()}},w.prototype._fulfillPromises=function(v,A){for(var k=1;k<v;k++){var B=this._fulfillmentHandlerAt(k),M=this._promiseAt(k),H=this._receiverAt(k);this._clearCallbackDataAtIndex(k),this._settlePromise(M,B,H,A)}},w.prototype._rejectPromises=function(v,A){for(var k=1;k<v;k++){var B=this._rejectionHandlerAt(k),M=this._promiseAt(k),H=this._receiverAt(k);this._clearCallbackDataAtIndex(k),this._settlePromise(M,B,H,A)}},w.prototype._settlePromises=function(){var v=this._bitField,A=v&65535;if(A>0){if((v&16842752)!==0){var k=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,k,v),this._rejectPromises(A,k)}else{var B=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,B,v),this._fulfillPromises(A,B)}this._setLength(0)}this._clearCancellationData()},w.prototype._settledValue=function(){var v=this._bitField;if((v&33554432)!==0)return this._rejectionHandler0;if((v&16777216)!==0)return this._fulfillmentHandler0},typeof Symbol<"u"&&Symbol.toStringTag&&_.defineProperty(w.prototype,Symbol.toStringTag,{get:function(){return"Object"}});function ee(v){this.promise._resolveCallback(v)}function le(v){this.promise._rejectCallback(v,!1)}w.defer=w.pending=function(){X.deprecated("Promise.defer","new Promise");var v=new w(U);return{promise:v,resolve:ee,reject:le}},p.notEnumerableProp(w,"_makeSelfResolutionError",n),t("./method")(w,U,$,o,X),t("./bind")(w,U,$,X),t("./cancel")(w,z,o,X),t("./direct_resolve")(w),t("./synchronous_inspection")(w),t("./join")(w,z,$,U,T),w.Promise=w,w.version="3.7.2",t("./call_get.js")(w),t("./generators.js")(w,o,U,$,a,X),t("./map.js")(w,z,o,$,U,X),t("./nodeify.js")(w),t("./promisify.js")(w,U),t("./props.js")(w,z,$,o),t("./race.js")(w,U,$,o),t("./reduce.js")(w,z,o,$,U,X),t("./settle.js")(w,z,X),t("./some.js")(w,z,o),t("./timers.js")(w,U,X),t("./using.js")(w,o,$,fe,U,X),t("./any.js")(w),t("./each.js")(w,U),t("./filter.js")(w,U),p.toFastProperties(w),p.toFastProperties(w.prototype);function ce(v){var A=new w(U);A._fulfillmentHandler0=v,A._rejectionHandler0=v,A._promise0=v,A._receiver0=v}return ce({a:1}),ce({b:2}),ce({c:3}),ce(1),ce(function(){}),ce(void 0),ce(!1),ce(new w(U)),X.setBounds(E.firstLineError,p.lastLineError),w}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36,async_hooks:void 0}],23:[function(t,e,r){"use strict";e.exports=function(n,i,o,a,d){var p=t("./util"),g=p.isArray;function h(u){switch(u){case-2:return[];case-3:return{};case-6:return new Map}}function s(u){var c=this._promise=new n(i);u instanceof n&&(c._propagateFrom(u,3),u.suppressUnhandledRejections()),c._setOnCancel(this),this._values=u,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return p.inherits(s,d),s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function u(c,l){var y=o(this._values,this._promise);if(y instanceof n){y=y._target();var f=y._bitField;if(this._values=y,(f&50397184)===0)return this._promise._setAsyncGuaranteed(),y._then(u,this._reject,void 0,this,l);if((f&33554432)!==0)y=y._value();else return(f&16777216)!==0?this._reject(y._reason()):this._cancel()}if(y=p.asArray(y),y===null){var _=a("expecting an array or an iterable object but got "+p.classString(y)).reason();this._promise._rejectCallback(_,!1);return}if(y.length===0){l===-5?this._resolveEmptyArray():this._resolve(h(l));return}this._iterate(y)},s.prototype._iterate=function(u){var c=this.getActualLength(u.length);this._length=c,this._values=this.shouldCopyValues()?new Array(c):this._values;for(var l=this._promise,y=!1,f=null,_=0;_<c;++_){var E=o(u[_],l);E instanceof n?(E=E._target(),f=E._bitField):f=null,y?f!==null&&E.suppressUnhandledRejections():f!==null?(f&50397184)===0?(E._proxy(this,_),this._values[_]=E):(f&33554432)!==0?y=this._promiseFulfilled(E._value(),_):(f&16777216)!==0?y=this._promiseRejected(E._reason(),_):y=this._promiseCancelled(_):y=this._promiseFulfilled(E,_)}y||l._setAsyncGuaranteed()},s.prototype._isResolved=function(){return this._values===null},s.prototype._resolve=function(u){this._values=null,this._promise._fulfill(u)},s.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},s.prototype._reject=function(u){this._values=null,this._promise._rejectCallback(u,!1)},s.prototype._promiseFulfilled=function(u,c){this._values[c]=u;var l=++this._totalResolved;return l>=this._length?(this._resolve(this._values),!0):!1},s.prototype._promiseCancelled=function(){return this._cancel(),!0},s.prototype._promiseRejected=function(u){return this._totalResolved++,this._reject(u),!0},s.prototype._resultCancelled=function(){if(!this._isResolved()){var u=this._values;if(this._cancel(),u instanceof n)u.cancel();else for(var c=0;c<u.length;++c)u[c]instanceof n&&u[c].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(u){return u},s}},{"./util":36}],24:[function(t,e,r){"use strict";e.exports=function(n,i){var o={},a=t("./util"),d=t("./nodeback"),p=a.withAppended,g=a.maybeWrapAsError,h=a.canEvaluate,s=t("./errors").TypeError,u="Async",c={__isPromisified__:!0},l=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],y=new RegExp("^(?:"+l.join("|")+")$"),f=function(L){return a.isIdentifier(L)&&L.charAt(0)!=="_"&&L!=="constructor"};function _(L){return!y.test(L)}function E(L){try{return L.__isPromisified__===!0}catch{return!1}}function T(L,Y,q){var G=a.getDataPropertyOrDefault(L,Y+q,c);return G?E(G):!1}function x(L,Y,q){for(var G=0;G<L.length;G+=2){var Q=L[G];if(q.test(Q)){for(var ae=Q.replace(q,""),w=0;w<L.length;w+=2)if(L[w]===ae)throw new s(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",Y))}}}function O(L,Y,q,G){for(var Q=a.inheritedDataKeys(L),ae=[],w=0;w<Q.length;++w){var ee=Q[w],le=L[ee],ce=G===f?!0:f(ee,le,L);typeof le=="function"&&!E(le)&&!T(L,ee,Y)&&G(ee,le,L,ce)&&ae.push(ee,le)}return x(ae,Y,q),ae}var b=function(L){return L.replace(/([$])/,"\\$")},U;if(!1)var V,oe,$,z;function J(L,Y,q,G,Q,ae){var w=function(){return this}(),ee=L;typeof ee=="string"&&(L=G);function le(){var ce=Y;Y===o&&(ce=this);var v=new n(i);v._captureStackTrace();var A=typeof ee=="string"&&this!==w?this[ee]:L,k=d(v,ae);try{A.apply(ce,p(arguments,k))}catch(B){v._rejectCallback(g(B),!0,!0)}return v._isFateSealed()||v._setAsyncGuaranteed(),v}return a.notEnumerableProp(le,"__isPromisified__",!0),le}var fe=h?U:J;function X(L,Y,q,G,Q){for(var ae=new RegExp(b(Y)+"$"),w=O(L,Y,ae,q),ee=0,le=w.length;ee<le;ee+=2){var ce=w[ee],v=w[ee+1],A=ce+Y;if(G===fe)L[A]=fe(ce,o,ce,v,Y,Q);else{var k=G(v,function(){return fe(ce,o,ce,v,Y,Q)});a.notEnumerableProp(k,"__isPromisified__",!0),L[A]=k}}return a.toFastProperties(L),L}function qe(L,Y,q){return fe(L,Y,void 0,L,null,q)}n.promisify=function(L,Y){if(typeof L!="function")throw new s("expecting a function but got "+a.classString(L));if(E(L))return L;Y=Object(Y);var q=Y.context===void 0?o:Y.context,G=!!Y.multiArgs,Q=qe(L,q,G);return a.copyDescriptors(L,Q,_),Q},n.promisifyAll=function(L,Y){if(typeof L!="function"&&typeof L!="object")throw new s(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);Y=Object(Y);var q=!!Y.multiArgs,G=Y.suffix;typeof G!="string"&&(G=u);var Q=Y.filter;typeof Q!="function"&&(Q=f);var ae=Y.promisifier;if(typeof ae!="function"&&(ae=fe),!a.isIdentifier(G))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var w=a.inheritedDataKeys(L),ee=0;ee<w.length;++ee){var le=L[w[ee]];w[ee]!=="constructor"&&a.isClass(le)&&(X(le.prototype,G,Q,ae,q),X(le,G,Q,ae,q))}return X(L,G,Q,ae,q)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,e,r){"use strict";e.exports=function(n,i,o,a){var d=t("./util"),p=d.isObject,g=t("./es5"),h;typeof Map=="function"&&(h=Map);var s=function(){var y=0,f=0;function _(E,T){this[y]=E,this[y+f]=T,y++}return function(T){f=T.size,y=0;var x=new Array(T.size*2);return T.forEach(_,x),x}}(),u=function(y){for(var f=new h,_=y.length/2|0,E=0;E<_;++E){var T=y[_+E],x=y[E];f.set(T,x)}return f};function c(y){var f=!1,_;if(h!==void 0&&y instanceof h)_=s(y),f=!0;else{var E=g.keys(y),T=E.length;_=new Array(T*2);for(var x=0;x<T;++x){var O=E[x];_[x]=y[O],_[x+T]=O}}this.constructor$(_),this._isMap=f,this._init$(void 0,f?-6:-3)}d.inherits(c,i),c.prototype._init=function(){},c.prototype._promiseFulfilled=function(y,f){this._values[f]=y;var _=++this._totalResolved;if(_>=this._length){var E;if(this._isMap)E=u(this._values);else{E={};for(var T=this.length(),x=0,O=this.length();x<O;++x)E[this._values[x+T]]=this._values[x]}return this._resolve(E),!0}return!1},c.prototype.shouldCopyValues=function(){return!1},c.prototype.getActualLength=function(y){return y>>1};function l(y){var f,_=o(y);if(p(_))_ instanceof n?f=_._then(n.props,void 0,void 0,void 0,void 0):f=new c(_).promise();else return a(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return _ instanceof n&&f._propagateFrom(_,2),f}n.prototype.props=function(){return l(this)},n.props=function(y){return l(y)}}},{"./es5":13,"./util":36}],26:[function(t,e,r){"use strict";function n(o,a,d,p,g){for(var h=0;h<g;++h)d[h+p]=o[h+a],o[h+a]=void 0}function i(o){this._capacity=o,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(o){return this._capacity<o},i.prototype._pushOne=function(o){var a=this.length();this._checkCapacity(a+1);var d=this._front+a&this._capacity-1;this[d]=o,this._length=a+1},i.prototype.push=function(o,a,d){var p=this.length()+3;if(this._willBeOverCapacity(p)){this._pushOne(o),this._pushOne(a),this._pushOne(d);return}var g=this._front+p-3;this._checkCapacity(p);var h=this._capacity-1;this[g+0&h]=o,this[g+1&h]=a,this[g+2&h]=d,this._length=p},i.prototype.shift=function(){var o=this._front,a=this[o];return this[o]=void 0,this._front=o+1&this._capacity-1,this._length--,a},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(o){this._capacity<o&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(o){var a=this._capacity;this._capacity=o;var d=this._front,p=this._length,g=d+p&a-1;n(this,0,this,a,g)},e.exports=i},{}],27:[function(t,e,r){"use strict";e.exports=function(n,i,o,a){var d=t("./util"),p=function(h){return h.then(function(s){return g(s,h)})};function g(h,s){var u=o(h);if(u instanceof n)return p(u);if(h=d.asArray(h),h===null)return a("expecting an array or an iterable object but got "+d.classString(h));var c=new n(i);s!==void 0&&c._propagateFrom(s,3);for(var l=c._fulfill,y=c._reject,f=0,_=h.length;f<_;++f){var E=h[f];E===void 0&&!(f in h)||n.cast(E)._then(l,y,void 0,c,null)}return c}n.race=function(h){return g(h,void 0)},n.prototype.race=function(){return g(this,void 0)}}},{"./util":36}],28:[function(t,e,r){"use strict";e.exports=function(n,i,o,a,d,p){var g=t("./util"),h=g.tryCatch;function s(f,_,E,T){this.constructor$(f);var x=n._getContext();this._fn=g.contextBind(x,_),E!==void 0&&(E=n.resolve(E),E._attachCancellationCallback(this)),this._initialValue=E,this._currentCancellable=null,T===d?this._eachValues=Array(this._length):T===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}g.inherits(s,i),s.prototype._gotAccum=function(f){this._eachValues!==void 0&&this._eachValues!==null&&f!==d&&this._eachValues.push(f)},s.prototype._eachComplete=function(f){return this._eachValues!==null&&this._eachValues.push(f),this._eachValues},s.prototype._init=function(){},s.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},s.prototype.shouldCopyValues=function(){return!1},s.prototype._resolve=function(f){this._promise._resolveCallback(f),this._values=null},s.prototype._resultCancelled=function(f){if(f===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof n&&this._currentCancellable.cancel(),this._initialValue instanceof n&&this._initialValue.cancel())},s.prototype._iterate=function(f){this._values=f;var _,E,T=f.length;this._initialValue!==void 0?(_=this._initialValue,E=0):(_=n.resolve(f[0]),E=1),this._currentCancellable=_;for(var x=E;x<T;++x){var O=f[x];O instanceof n&&O.suppressUnhandledRejections()}if(!_.isRejected())for(;E<T;++E){var b={accum:null,value:f[E],index:E,length:T,array:this};_=_._then(l,void 0,void 0,b,void 0),(E&127)===0&&_._setNoAsyncGuarantee()}this._eachValues!==void 0&&(_=_._then(this._eachComplete,void 0,void 0,this,void 0)),_._then(u,u,void 0,_,this)},n.prototype.reduce=function(f,_){return c(this,f,_,null)},n.reduce=function(f,_,E,T){return c(f,_,E,T)};function u(f,_){this.isFulfilled()?_._resolve(f):_._reject(f)}function c(f,_,E,T){if(typeof _!="function")return o("expecting a function but got "+g.classString(_));var x=new s(f,_,E,T);return x.promise()}function l(f){this.accum=f,this.array._gotAccum(f);var _=a(this.value,this.array._promise);return _ instanceof n?(this.array._currentCancellable=_,_._then(y,void 0,void 0,this,void 0)):y.call(this,_)}function y(f){var _=this.array,E=_._promise,T=h(_._fn);E._pushContext();var x;_._eachValues!==void 0?x=T.call(E._boundValue(),f,this.index,this.length):x=T.call(E._boundValue(),this.accum,f,this.index,this.length),x instanceof n&&(_._currentCancellable=x);var O=E._popContext();return p.checkForgottenReturns(x,O,_._eachValues!==void 0?"Promise.each":"Promise.reduce",E),x}}},{"./util":36}],29:[function(t,e,r){"use strict";var n=t("./util"),i,o=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},a=n.getNativePromise();if(n.isNode&&typeof MutationObserver>"u"){var d=global.setImmediate,p=process.nextTick;i=n.isRecentNode?function(h){d.call(global,h)}:function(h){p.call(process,h)}}else if(typeof a=="function"&&typeof a.resolve=="function"){var g=a.resolve();i=function(h){g.then(h)}}else typeof MutationObserver<"u"&&!(typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova))&&"classList"in document.documentElement?i=function(){var h=document.createElement("div"),s={attributes:!0},u=!1,c=document.createElement("div"),l=new MutationObserver(function(){h.classList.toggle("foo"),u=!1});l.observe(c,s);var y=function(){u||(u=!0,c.classList.toggle("foo"))};return function(_){var E=new MutationObserver(function(){E.disconnect(),_()});E.observe(h,s),y()}}():typeof setImmediate<"u"?i=function(h){setImmediate(h)}:typeof setTimeout<"u"?i=function(h){setTimeout(h,0)}:i=o;e.exports=i},{"./util":36}],30:[function(t,e,r){"use strict";e.exports=function(n,i,o){var a=n.PromiseInspection,d=t("./util");function p(g){this.constructor$(g)}d.inherits(p,i),p.prototype._promiseResolved=function(g,h){this._values[g]=h;var s=++this._totalResolved;return s>=this._length?(this._resolve(this._values),!0):!1},p.prototype._promiseFulfilled=function(g,h){var s=new a;return s._bitField=33554432,s._settledValueField=g,this._promiseResolved(h,s)},p.prototype._promiseRejected=function(g,h){var s=new a;return s._bitField=16777216,s._settledValueField=g,this._promiseResolved(h,s)},n.settle=function(g){return o.deprecated(".settle()",".reflect()"),new p(g).promise()},n.allSettled=function(g){return new p(g).promise()},n.prototype.settle=function(){return n.settle(this)}}},{"./util":36}],31:[function(t,e,r){"use strict";e.exports=function(n,i,o){var a=t("./util"),d=t("./errors").RangeError,p=t("./errors").AggregateError,g=a.isArray,h={};function s(c){this.constructor$(c),this._howMany=0,this._unwrap=!1,this._initialized=!1}a.inherits(s,i),s.prototype._init=function(){if(!!this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var c=g(this._values);!this._isResolved()&&c&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},s.prototype.init=function(){this._initialized=!0,this._init()},s.prototype.setUnwrap=function(){this._unwrap=!0},s.prototype.howMany=function(){return this._howMany},s.prototype.setHowMany=function(c){this._howMany=c},s.prototype._promiseFulfilled=function(c){return this._addFulfilled(c),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},s.prototype._promiseRejected=function(c){return this._addRejected(c),this._checkOutcome()},s.prototype._promiseCancelled=function(){return this._values instanceof n||this._values==null?this._cancel():(this._addRejected(h),this._checkOutcome())},s.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var c=new p,l=this.length();l<this._values.length;++l)this._values[l]!==h&&c.push(this._values[l]);return c.length>0?this._reject(c):this._cancel(),!0}return!1},s.prototype._fulfilled=function(){return this._totalResolved},s.prototype._rejected=function(){return this._values.length-this.length()},s.prototype._addRejected=function(c){this._values.push(c)},s.prototype._addFulfilled=function(c){this._values[this._totalResolved++]=c},s.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},s.prototype._getRangeError=function(c){var l="Input array must contain at least "+this._howMany+" items but contains only "+c+" items";return new d(l)},s.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function u(c,l){if((l|0)!==l||l<0)return o(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var y=new s(c),f=y.promise();return y.setHowMany(l),y.init(),f}n.some=function(c,l){return u(c,l)},n.prototype.some=function(c){return u(this,c)},n._SomePromiseArray=s}},{"./errors":12,"./util":36}],32:[function(t,e,r){"use strict";e.exports=function(n){function i(s){s!==void 0?(s=s._target(),this._bitField=s._bitField,this._settledValueField=s._isFateSealed()?s._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}i.prototype._settledValue=function(){return this._settledValueField};var o=i.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},a=i.prototype.error=i.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},d=i.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},p=i.prototype.isRejected=function(){return(this._bitField&16777216)!==0},g=i.prototype.isPending=function(){return(this._bitField&50397184)===0},h=i.prototype.isResolved=function(){return(this._bitField&50331648)!==0};i.prototype.isCancelled=function(){return(this._bitField&8454144)!==0},n.prototype.__isCancelled=function(){return(this._bitField&65536)===65536},n.prototype._isCancelled=function(){return this._target().__isCancelled()},n.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0},n.prototype.isPending=function(){return g.call(this._target())},n.prototype.isRejected=function(){return p.call(this._target())},n.prototype.isFulfilled=function(){return d.call(this._target())},n.prototype.isResolved=function(){return h.call(this._target())},n.prototype.value=function(){return o.call(this._target())},n.prototype.reason=function(){var s=this._target();return s._unsetRejectionIsUnhandled(),a.call(s)},n.prototype._value=function(){return this._settledValue()},n.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},n.PromiseInspection=i}},{}],33:[function(t,e,r){"use strict";e.exports=function(n,i){var o=t("./util"),a=o.errorObj,d=o.isObject;function p(l,y){if(d(l)){if(l instanceof n)return l;var f=h(l);if(f===a){y&&y._pushContext();var _=n.reject(f.e);return y&&y._popContext(),_}else if(typeof f=="function"){if(u(l)){var _=new n(i);return l._then(_._fulfill,_._reject,void 0,_,null),_}return c(l,f,y)}}return l}function g(l){return l.then}function h(l){try{return g(l)}catch(y){return a.e=y,a}}var s={}.hasOwnProperty;function u(l){try{return s.call(l,"_promise0")}catch{return!1}}function c(l,y,f){var _=new n(i),E=_;f&&f._pushContext(),_._captureStackTrace(),f&&f._popContext();var T=!0,x=o.tryCatch(y).call(l,O,b);T=!1,_&&x===a&&(_._rejectCallback(x.e,!0,!0),_=null);function O(U){!_||(_._resolveCallback(U),_=null)}function b(U){!_||(_._rejectCallback(U,T,!0),_=null)}return E}return p}},{"./util":36}],34:[function(t,e,r){"use strict";e.exports=function(n,i,o){var a=t("./util"),d=n.TimeoutError;function p(l){this.handle=l}p.prototype._resultCancelled=function(){clearTimeout(this.handle)};var g=function(l){return h(+this).thenReturn(l)},h=n.delay=function(l,y){var f,_;return y!==void 0?(f=n.resolve(y)._then(g,null,null,l,void 0),o.cancellation()&&y instanceof n&&f._setOnCancel(y)):(f=new n(i),_=setTimeout(function(){f._fulfill()},+l),o.cancellation()&&f._setOnCancel(new p(_)),f._captureStackTrace()),f._setAsyncGuaranteed(),f};n.prototype.delay=function(l){return h(l,this)};var s=function(l,y,f){var _;typeof y!="string"?y instanceof Error?_=y:_=new d("operation timed out"):_=new d(y),a.markAsOriginatingFromRejection(_),l._attachExtraTrace(_),l._reject(_),f?.cancel()};function u(l){return clearTimeout(this.handle),l}function c(l){throw clearTimeout(this.handle),l}n.prototype.timeout=function(l,y){l=+l;var f,_,E=new p(setTimeout(function(){f.isPending()&&s(f,y,_)},l));return o.cancellation()?(_=this.then(),f=_._then(u,c,void 0,E,void 0),f._setOnCancel(E)):f=this._then(u,c,void 0,E,void 0),f}}},{"./util":36}],35:[function(t,e,r){"use strict";e.exports=function(n,i,o,a,d,p){var g=t("./util"),h=t("./errors").TypeError,s=t("./util").inherits,u=g.errorObj,c=g.tryCatch,l={};function y(b){setTimeout(function(){throw b},0)}function f(b){var U=o(b);return U!==b&&typeof b._isDisposable=="function"&&typeof b._getDisposer=="function"&&b._isDisposable()&&U._setDisposable(b._getDisposer()),U}function _(b,U){var V=0,oe=b.length,$=new n(d);function z(){if(V>=oe)return $._fulfill();var J=f(b[V++]);if(J instanceof n&&J._isDisposable()){try{J=o(J._getDisposer().tryDispose(U),b.promise)}catch(fe){return y(fe)}if(J instanceof n)return J._then(z,y,null,null,null)}z()}return z(),$}function E(b,U,V){this._data=b,this._promise=U,this._context=V}E.prototype.data=function(){return this._data},E.prototype.promise=function(){return this._promise},E.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():l},E.prototype.tryDispose=function(b){var U=this.resource(),V=this._context;V!==void 0&&V._pushContext();var oe=U!==l?this.doDispose(U,b):null;return V!==void 0&&V._popContext(),this._promise._unsetDisposable(),this._data=null,oe},E.isDisposer=function(b){return b!=null&&typeof b.resource=="function"&&typeof b.tryDispose=="function"};function T(b,U,V){this.constructor$(b,U,V)}s(T,E),T.prototype.doDispose=function(b,U){var V=this.data();return V.call(b,b,U)};function x(b){return E.isDisposer(b)?(this.resources[this.index]._setDisposable(b),b.promise()):b}function O(b){this.length=b,this.promise=null,this[b-1]=null}O.prototype._resultCancelled=function(){for(var b=this.length,U=0;U<b;++U){var V=this[U];V instanceof n&&V.cancel()}},n.using=function(){var b=arguments.length;if(b<2)return i("you must pass at least 2 arguments to Promise.using");var U=arguments[b-1];if(typeof U!="function")return i("expecting a function but got "+g.classString(U));var V,oe=!0;b===2&&Array.isArray(arguments[0])?(V=arguments[0],b=V.length,oe=!1):(V=arguments,b--);for(var $=new O(b),z=0;z<b;++z){var J=V[z];if(E.isDisposer(J)){var fe=J;J=J.promise(),J._setDisposable(fe)}else{var X=o(J);X instanceof n&&(J=X._then(x,null,null,{resources:$,index:z},void 0))}$[z]=J}for(var qe=new Array($.length),z=0;z<qe.length;++z)qe[z]=n.resolve($[z]).reflect();var L=n.all(qe).then(function(q){for(var G=0;G<q.length;++G){var Q=q[G];if(Q.isRejected())return u.e=Q.error(),u;if(!Q.isFulfilled()){L.cancel();return}q[G]=Q.value()}Y._pushContext(),U=c(U);var ae=oe?U.apply(void 0,q):U(q),w=Y._popContext();return p.checkForgottenReturns(ae,w,"Promise.using",Y),ae}),Y=L.lastly(function(){var q=new n.PromiseInspection(L);return _($,q)});return $.promise=Y,Y._setOnCancel($),Y},n.prototype._setDisposable=function(b){this._bitField=this._bitField|131072,this._disposer=b},n.prototype._isDisposable=function(){return(this._bitField&131072)>0},n.prototype._getDisposer=function(){return this._disposer},n.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},n.prototype.disposer=function(b){if(typeof b=="function")return new T(b,this,a());throw new h}}},{"./errors":12,"./util":36}],36:[function(_dereq_,module,exports){"use strict";var es5=_dereq_("./es5"),canEvaluate=typeof navigator>"u",errorObj={e:{}},tryCatchTarget,globalObject=typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:this!==void 0?this:null;function tryCatcher(){try{var t=tryCatchTarget;return tryCatchTarget=null,t.apply(this,arguments)}catch(e){return errorObj.e=e,errorObj}}function tryCatch(t){return tryCatchTarget=t,tryCatcher}var inherits=function(t,e){var r={}.hasOwnProperty;function n(){this.constructor=t,this.constructor$=e;for(var i in e.prototype)r.call(e.prototype,i)&&i.charAt(i.length-1)!=="$"&&(this[i+"$"]=e.prototype[i])}return n.prototype=e.prototype,t.prototype=new n,t.prototype};function isPrimitive(t){return t==null||t===!0||t===!1||typeof t=="string"||typeof t=="number"}function isObject(t){return typeof t=="function"||typeof t=="object"&&t!==null}function maybeWrapAsError(t){return isPrimitive(t)?new Error(safeToString(t)):t}function withAppended(t,e){var r=t.length,n=new Array(r+1),i;for(i=0;i<r;++i)n[i]=t[i];return n[i]=e,n}function getDataPropertyOrDefault(t,e,r){if(es5.isES5){var n=Object.getOwnPropertyDescriptor(t,e);if(n!=null)return n.get==null&&n.set==null?n.value:r}else return{}.hasOwnProperty.call(t,e)?t[e]:void 0}function notEnumerableProp(t,e,r){if(isPrimitive(t))return t;var n={value:r,configurable:!0,enumerable:!1,writable:!0};return es5.defineProperty(t,e,n),t}function thrower(t){throw t}var inheritedDataKeys=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(i){for(var o=0;o<t.length;++o)if(t[o]===i)return!0;return!1};if(es5.isES5){var r=Object.getOwnPropertyNames;return function(i){for(var o=[],a=Object.create(null);i!=null&&!e(i);){var d;try{d=r(i)}catch{return o}for(var p=0;p<d.length;++p){var g=d[p];if(!a[g]){a[g]=!0;var h=Object.getOwnPropertyDescriptor(i,g);h!=null&&h.get==null&&h.set==null&&o.push(g)}}i=es5.getPrototypeOf(i)}return o}}else{var n={}.hasOwnProperty;return function(i){if(e(i))return[];var o=[];e:for(var a in i)if(n.call(i,a))o.push(a);else{for(var d=0;d<t.length;++d)if(n.call(t[d],a))continue e;o.push(a)}return o}}}(),thisAssignmentPattern=/this\s*\.\s*\S+\s*=/;function isClass(t){try{if(typeof t=="function"){var e=es5.names(t.prototype),r=es5.isES5&&e.length>1,n=e.length>0&&!(e.length===1&&e[0]==="constructor"),i=thisAssignmentPattern.test(t+"")&&es5.names(t).length>0;if(r||n||i)return!0}return!1}catch{return!1}}function toFastProperties(obj){function FakeConstructor(){}FakeConstructor.prototype=obj;var receiver=new FakeConstructor;function ic(){return typeof receiver.foo}return ic(),ic(),obj;eval(obj)}var rident=/^[a-z$_][a-z$_0-9]*$/i;function isIdentifier(t){return rident.test(t)}function filledRange(t,e,r){for(var n=new Array(t),i=0;i<t;++i)n[i]=e+i+r;return n}function safeToString(t){try{return t+""}catch{return"[no string representation]"}}function isError(t){return t instanceof Error||t!==null&&typeof t=="object"&&typeof t.message=="string"&&typeof t.name=="string"}function markAsOriginatingFromRejection(t){try{notEnumerableProp(t,"isOperational",!0)}catch{}}function originatesFromRejection(t){return t==null?!1:t instanceof Error.__BluebirdErrorTypes__.OperationalError||t.isOperational===!0}function canAttachTrace(t){return isError(t)&&es5.propertyIsWritable(t,"stack")}var ensureErrorObject=function(){return"stack"in new Error?function(t){return canAttachTrace(t)?t:new Error(safeToString(t))}:function(t){if(canAttachTrace(t))return t;try{throw new Error(safeToString(t))}catch(e){return e}}}();function classString(t){return{}.toString.call(t)}function copyDescriptors(t,e,r){for(var n=es5.names(t),i=0;i<n.length;++i){var o=n[i];if(r(o))try{es5.defineProperty(e,o,es5.getDescriptor(t,o))}catch{}}}var asArray=function(t){return es5.isArray(t)?t:null};if(typeof Symbol<"u"&&Symbol.iterator){var ArrayFrom=typeof Array.from=="function"?function(t){return Array.from(t)}:function(t){for(var e=[],r=t[Symbol.iterator](),n;!(n=r.next()).done;)e.push(n.value);return e};asArray=function(t){return es5.isArray(t)?t:t!=null&&typeof t[Symbol.iterator]=="function"?ArrayFrom(t):null}}var isNode=typeof process<"u"&&classString(process).toLowerCase()==="[object process]",hasEnvVariables=typeof process<"u"&&typeof process.env<"u";function env(t){return hasEnvVariables?process.env[t]:void 0}function getNativePromise(){if(typeof Promise=="function")try{var t=new Promise(function(){});if(classString(t)==="[object Promise]")return Promise}catch{}}var reflectHandler;function contextBind(t,e){if(t===null||typeof e!="function"||e===reflectHandler)return e;t.domain!==null&&(e=t.domain.bind(e));var r=t.async;if(r!==null){var n=e;e=function(){var i=new Array(2).concat([].slice.call(arguments));return i[0]=n,i[1]=this,r.runInAsyncScope.apply(r,i)}}return e}var ret={setReflectHandler:function(t){reflectHandler=t},isClass,isIdentifier,inheritedDataKeys,getDataPropertyOrDefault,thrower,isArray:es5.isArray,asArray,notEnumerableProp,isPrimitive,isObject,isError,canEvaluate,errorObj,tryCatch,inherits,withAppended,maybeWrapAsError,toFastProperties,filledRange,toString:safeToString,canAttachTrace,ensureErrorObject,originatesFromRejection,markAsOriginatingFromRejection,classString,copyDescriptors,isNode,hasEnvVariables,env,global:globalObject,getNativePromise,contextBind};ret.isRecentNode=ret.isNode&&function(){var t;return process.versions&&process.versions.node?t=process.versions.node.split(".").map(Number):process.version&&(t=process.version.split(".").map(Number)),t[0]===0&&t[1]>10||t[0]>0}(),ret.nodeSupportsAsyncResource=ret.isNode&&function(){var t=!1;try{var e=_dereq_("async_hooks").AsyncResource;t=typeof e.prototype.runInAsyncScope=="function"}catch{t=!1}return t}(),ret.isNode&&ret.toFastProperties(process);try{throw new Error}catch(t){ret.lastLineError=t}module.exports=ret},{"./es5":13,async_hooks:void 0}]},{},[4])(4)});typeof window<"u"&&window!==null?window.P=window.Promise:typeof self<"u"&&self!==null&&(self.P=self.Promise)});var Ir=de(Ht=>{"use strict";Ht.toString=function(t){switch(t){case 1:return"A";case 10:return"NULL";case 28:return"AAAA";case 18:return"AFSDB";case 42:return"APL";case 257:return"CAA";case 60:return"CDNSKEY";case 59:return"CDS";case 37:return"CERT";case 5:return"CNAME";case 49:return"DHCID";case 32769:return"DLV";case 39:return"DNAME";case 48:return"DNSKEY";case 43:return"DS";case 55:return"HIP";case 13:return"HINFO";case 45:return"IPSECKEY";case 25:return"KEY";case 36:return"KX";case 29:return"LOC";case 15:return"MX";case 35:return"NAPTR";case 2:return"NS";case 47:return"NSEC";case 50:return"NSEC3";case 51:return"NSEC3PARAM";case 12:return"PTR";case 46:return"RRSIG";case 17:return"RP";case 24:return"SIG";case 6:return"SOA";case 99:return"SPF";case 33:return"SRV";case 44:return"SSHFP";case 32768:return"TA";case 249:return"TKEY";case 52:return"TLSA";case 250:return"TSIG";case 16:return"TXT";case 252:return"AXFR";case 251:return"IXFR";case 41:return"OPT";case 255:return"ANY"}return"UNKNOWN_"+t};Ht.toType=function(t){switch(t.toUpperCase()){case"A":return 1;case"NULL":return 10;case"AAAA":return 28;case"AFSDB":return 18;case"APL":return 42;case"CAA":return 257;case"CDNSKEY":return 60;case"CDS":return 59;case"CERT":return 37;case"CNAME":return 5;case"DHCID":return 49;case"DLV":return 32769;case"DNAME":return 39;case"DNSKEY":return 48;case"DS":return 43;case"HIP":return 55;case"HINFO":return 13;case"IPSECKEY":return 45;case"KEY":return 25;case"KX":return 36;case"LOC":return 29;case"MX":return 15;case"NAPTR":return 35;case"NS":return 2;case"NSEC":return 47;case"NSEC3":return 50;case"NSEC3PARAM":return 51;case"PTR":return 12;case"RRSIG":return 46;case"RP":return 17;case"SIG":return 24;case"SOA":return 6;case"SPF":return 99;case"SRV":return 33;case"SSHFP":return 44;case"TA":return 32768;case"TKEY":return 249;case"TLSA":return 52;case"TSIG":return 250;case"TXT":return 16;case"AXFR":return 252;case"IXFR":return 251;case"OPT":return 41;case"ANY":return 255;case"*":return 255}return t.toUpperCase().startsWith("UNKNOWN_")?parseInt(t.slice(8)):0}});var Rr=de(Vt=>{"use strict";Vt.toString=function(t){switch(t){case 0:return"NOERROR";case 1:return"FORMERR";case 2:return"SERVFAIL";case 3:return"NXDOMAIN";case 4:return"NOTIMP";case 5:return"REFUSED";case 6:return"YXDOMAIN";case 7:return"YXRRSET";case 8:return"NXRRSET";case 9:return"NOTAUTH";case 10:return"NOTZONE";case 11:return"RCODE_11";case 12:return"RCODE_12";case 13:return"RCODE_13";case 14:return"RCODE_14";case 15:return"RCODE_15"}return"RCODE_"+t};Vt.toRcode=function(t){switch(t.toUpperCase()){case"NOERROR":return 0;case"FORMERR":return 1;case"SERVFAIL":return 2;case"NXDOMAIN":return 3;case"NOTIMP":return 4;case"REFUSED":return 5;case"YXDOMAIN":return 6;case"YXRRSET":return 7;case"NXRRSET":return 8;case"NOTAUTH":return 9;case"NOTZONE":return 10;case"RCODE_11":return 11;case"RCODE_12":return 12;case"RCODE_13":return 13;case"RCODE_14":return 14;case"RCODE_15":return 15}return 0}});var br=de(Yt=>{"use strict";Yt.toString=function(t){switch(t){case 0:return"QUERY";case 1:return"IQUERY";case 2:return"STATUS";case 3:return"OPCODE_3";case 4:return"NOTIFY";case 5:return"UPDATE";case 6:return"OPCODE_6";case 7:return"OPCODE_7";case 8:return"OPCODE_8";case 9:return"OPCODE_9";case 10:return"OPCODE_10";case 11:return"OPCODE_11";case 12:return"OPCODE_12";case 13:return"OPCODE_13";case 14:return"OPCODE_14";case 15:return"OPCODE_15"}return"OPCODE_"+t};Yt.toOpcode=function(t){switch(t.toUpperCase()){case"QUERY":return 0;case"IQUERY":return 1;case"STATUS":return 2;case"OPCODE_3":return 3;case"NOTIFY":return 4;case"UPDATE":return 5;case"OPCODE_6":return 6;case"OPCODE_7":return 7;case"OPCODE_8":return 8;case"OPCODE_9":return 9;case"OPCODE_10":return 10;case"OPCODE_11":return 11;case"OPCODE_12":return 12;case"OPCODE_13":return 13;case"OPCODE_14":return 14;case"OPCODE_15":return 15}return 0}});var Or=de(Kt=>{"use strict";Kt.toString=function(t){switch(t){case 1:return"IN";case 2:return"CS";case 3:return"CH";case 4:return"HS";case 255:return"ANY"}return"UNKNOWN_"+t};Kt.toClass=function(t){switch(t.toUpperCase()){case"IN":return 1;case"CS":return 2;case"CH":return 3;case"HS":return 4;case"ANY":return 255}return 0}});var kr=de($t=>{"use strict";$t.toString=function(t){switch(t){case 1:return"LLQ";case 2:return"UL";case 3:return"NSID";case 5:return"DAU";case 6:return"DHU";case 7:return"N3U";case 8:return"CLIENT_SUBNET";case 9:return"EXPIRE";case 10:return"COOKIE";case 11:return"TCP_KEEPALIVE";case 12:return"PADDING";case 13:return"CHAIN";case 14:return"KEY_TAG";case 26946:return"DEVICEID"}return t<0?null:`OPTION_${t}`};$t.toCode=function(t){if(typeof t=="number")return t;if(!t)return-1;switch(t.toUpperCase()){case"OPTION_0":return 0;case"LLQ":return 1;case"UL":return 2;case"NSID":return 3;case"OPTION_4":return 4;case"DAU":return 5;case"DHU":return 6;case"N3U":return 7;case"CLIENT_SUBNET":return 8;case"EXPIRE":return 9;case"COOKIE":return 10;case"TCP_KEEPALIVE":return 11;case"PADDING":return 12;case"CHAIN":return 13;case"KEY_TAG":return 14;case"DEVICEID":return 26946;case"OPTION_65535":return 65535}let e=t.match(/_(\d+)$/);return e?parseInt(e[1],10):-1}});var jr=de((Ur,Gt)=>{var Fr=function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=s,t.encode=h,t.familyOf=g,t.name=void 0,t.sizeOf=p,t.v6=t.v4=void 0;let e=/^(\d{1,3}\.){3,3}\d{1,3}$/,r=4,n=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i,i=16,o={name:"v4",size:r,isFormat:u=>e.test(u),encode(u,c,l){l=~~l,c=c||new Uint8Array(l+r);let y=u.length,f=0;for(let _=0;_<y;){let E=u.charCodeAt(_++);E===46?(c[l++]=f,f=0):f=f*10+(E-48)}return c[l]=f,c},decode(u,c){return c=~~c,`${u[c++]}.${u[c++]}.${u[c++]}.${u[c]}`}};t.v4=o;let a={name:"v6",size:i,isFormat:u=>u.length>0&&n.test(u),encode(u,c,l){l=~~l;let y=l+i,f=-1,_=0,E=0,T=!0,x=!1;c=c||new Uint8Array(l+i);for(let O=0;O<u.length;O++){let b=u.charCodeAt(O);b===58?(T?f!==-1?(l<y&&(c[l]=0),l<y-1&&(c[l+1]=0),l+=2):l<y&&(f=l):(x===!0?(l<y&&(c[l]=E),l++):(l<y&&(c[l]=_>>8),l<y-1&&(c[l+1]=_&255),l+=2),_=0,E=0),T=!0,x=!1):b===46?(l<y&&(c[l]=E),l++,E=0,_=0,T=!1,x=!0):(T=!1,b>=97?b-=87:b>=65?b-=55:(b-=48,E=E*10+b),_=(_<<4)+b)}if(T===!1)x===!0?(l<y&&(c[l]=E),l++):(l<y&&(c[l]=_>>8),l<y-1&&(c[l+1]=_&255),l+=2);else if(f===0)l<y&&(c[l]=0),l<y-1&&(c[l+1]=0),l+=2;else if(f!==-1){l+=2;for(let O=Math.min(l-1,y-1);O>=f+2;O--)c[O]=c[O-2];c[f]=0,c[f+1]=0,f=l}if(f!==l&&f!==-1)for(l>y-2&&(l=y-2);y>f;)c[--y]=l<y&&l>f?c[--l]:0;else for(;l<y;)c[l++]=0;return c},decode(u,c){c=~~c;let l="";for(let y=0;y<i;y+=2)y!==0&&(l+=":"),l+=(u[c+y]<<8|u[c+y+1]).toString(16);return l.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}};t.v6=a;let d="ip";t.name=d;function p(u){if(o.isFormat(u))return o.size;if(a.isFormat(u))return a.size;throw Error(`Invalid ip address: ${u}`)}function g(u){return p(u)===o.size?1:2}function h(u,c,l){l=~~l;let y=p(u);return typeof c=="function"&&(c=c(l+y)),y===o.size?o.encode(u,c,l):a.encode(u,c,l)}function s(u,c,l){if(c=~~c,l=l||u.length-c,l===o.size)return o.decode(u,c,l);if(l===a.size)return a.decode(u,c,l);throw Error(`Invalid buffer size needs to be ${o.size} for v4 or ${a.size} for v6.`)}return"default"in t?t.default:t}({});typeof define=="function"&&define.amd?define([],function(){return Fr}):typeof Gt=="object"&&typeof Ur=="object"&&(Gt.exports=Fr)});var Nr=de(D=>{"use strict";var P=(Mt(),Bt(Sr)).Buffer,We=Ir(),oi=Rr(),ai=br(),xt=Or(),zt=kr(),ot=jr(),ci=0,Br=1<<15,Wt=1<<15,si=~Wt,Lr=1<<15,ui=~Lr,j=D.name={};j.encode=function(t,e,r){e||(e=P.alloc(j.encodingLength(t))),r||(r=0);let n=r,i=t.replace(/^\.|\.$/gm,"");if(i.length){let o=i.split(".");for(let a=0;a<o.length;a++){let d=e.write(o[a],r+1);e[r]=d,r+=d+1}}return e[r++]=0,j.encode.bytes=r-n,e};j.encode.bytes=0;j.decode=function(t,e){e||(e=0);let r=[],n=e,i=0,o=0,a=!1;for(;;){if(e>=t.length)throw new Error("Cannot decode name (buffer overflow)");let d=t[e++];if(o+=a?0:1,d===0)break;if((d&192)===0){if(e+d>t.length)throw new Error("Cannot decode name (buffer overflow)");if(i+=d+1,i>254)throw new Error("Cannot decode name (name too long)");r.push(t.toString("utf-8",e,e+d)),e+=d,o+=a?0:d}else if((d&192)===192){if(e+1>t.length)throw new Error("Cannot decode name (buffer overflow)");let p=t.readUInt16BE(e-1)-49152;if(p>=n)throw new Error("Cannot decode name (bad pointer)");e=p,n=p,o+=a?0:1,a=!0}else throw new Error("Cannot decode name (bad label)")}return j.decode.bytes=o,r.length===0?".":r.join(".")};j.decode.bytes=0;j.encodingLength=function(t){return t==="."||t===".."?1:P.byteLength(t.replace(/^\.|\.$/gm,""))+2};var ne={};ne.encode=function(t,e,r){e||(e=P.alloc(ne.encodingLength(t))),r||(r=0);let n=e.write(t,r+1);return e[r]=n,ne.encode.bytes=n+1,e};ne.encode.bytes=0;ne.decode=function(t,e){e||(e=0);let r=t[e],n=t.toString("utf-8",e+1,e+1+r);return ne.decode.bytes=r+1,n};ne.decode.bytes=0;ne.encodingLength=function(t){return P.byteLength(t)+1};var Se={};Se.encode=function(t,e,r){e||(e=Se.encodingLength(t)),r||(r=0);let n=(t.flags||0)&32767,i=t.type==="response"?Br:ci;return e.writeUInt16BE(t.id||0,r),e.writeUInt16BE(n|i,r+2),e.writeUInt16BE(t.questions.length,r+4),e.writeUInt16BE(t.answers.length,r+6),e.writeUInt16BE(t.authorities.length,r+8),e.writeUInt16BE(t.additionals.length,r+10),e};Se.encode.bytes=12;Se.decode=function(t,e){if(e||(e=0),t.length<12)throw new Error("Header must be 12 bytes");let r=t.readUInt16BE(e+2);return{id:t.readUInt16BE(e),type:r&Br?"response":"query",flags:r&32767,flag_qr:(r>>15&1)===1,opcode:ai.toString(r>>11&15),flag_aa:(r>>10&1)===1,flag_tc:(r>>9&1)===1,flag_rd:(r>>8&1)===1,flag_ra:(r>>7&1)===1,flag_z:(r>>6&1)===1,flag_ad:(r>>5&1)===1,flag_cd:(r>>4&1)===1,rcode:oi.toString(r&15),questions:new Array(t.readUInt16BE(e+4)),answers:new Array(t.readUInt16BE(e+6)),authorities:new Array(t.readUInt16BE(e+8)),additionals:new Array(t.readUInt16BE(e+10))}};Se.decode.bytes=12;Se.encodingLength=function(){return 12};var Pe=D.unknown={};Pe.encode=function(t,e,r){return e||(e=P.alloc(Pe.encodingLength(t))),r||(r=0),e.writeUInt16BE(t.length,r),t.copy(e,r+2),Pe.encode.bytes=t.length+2,e};Pe.encode.bytes=0;Pe.decode=function(t,e){e||(e=0);let r=t.readUInt16BE(e),n=t.slice(e+2,e+2+r);return Pe.decode.bytes=r+2,n};Pe.decode.bytes=0;Pe.encodingLength=function(t){return t.length+2};var Me=D.ns={};Me.encode=function(t,e,r){return e||(e=P.alloc(Me.encodingLength(t))),r||(r=0),j.encode(t,e,r+2),e.writeUInt16BE(j.encode.bytes,r),Me.encode.bytes=j.encode.bytes+2,e};Me.encode.bytes=0;Me.decode=function(t,e){e||(e=0);let r=t.readUInt16BE(e),n=j.decode(t,e+2);return Me.decode.bytes=r+2,n};Me.decode.bytes=0;Me.encodingLength=function(t){return j.encodingLength(t)+2};var He=D.soa={};He.encode=function(t,e,r){e||(e=P.alloc(He.encodingLength(t))),r||(r=0);let n=r;return r+=2,j.encode(t.mname,e,r),r+=j.encode.bytes,j.encode(t.rname,e,r),r+=j.encode.bytes,e.writeUInt32BE(t.serial||0,r),r+=4,e.writeUInt32BE(t.refresh||0,r),r+=4,e.writeUInt32BE(t.retry||0,r),r+=4,e.writeUInt32BE(t.expire||0,r),r+=4,e.writeUInt32BE(t.minimum||0,r),r+=4,e.writeUInt16BE(r-n-2,n),He.encode.bytes=r-n,e};He.encode.bytes=0;He.decode=function(t,e){e||(e=0);let r=e,n={};return e+=2,n.mname=j.decode(t,e),e+=j.decode.bytes,n.rname=j.decode(t,e),e+=j.decode.bytes,n.serial=t.readUInt32BE(e),e+=4,n.refresh=t.readUInt32BE(e),e+=4,n.retry=t.readUInt32BE(e),e+=4,n.expire=t.readUInt32BE(e),e+=4,n.minimum=t.readUInt32BE(e),e+=4,He.decode.bytes=e-r,n};He.decode.bytes=0;He.encodingLength=function(t){return 22+j.encodingLength(t.mname)+j.encodingLength(t.rname)};var Ve=D.txt={};Ve.encode=function(t,e,r){Array.isArray(t)||(t=[t]);for(let i=0;i<t.length;i++)if(typeof t[i]=="string"&&(t[i]=P.from(t[i])),!P.isBuffer(t[i]))throw new Error("Must be a Buffer");e||(e=P.alloc(Ve.encodingLength(t))),r||(r=0);let n=r;return r+=2,t.forEach(function(i){e[r++]=i.length,i.copy(e,r,0,i.length),r+=i.length}),e.writeUInt16BE(r-n-2,n),Ve.encode.bytes=r-n,e};Ve.encode.bytes=0;Ve.decode=function(t,e){e||(e=0);let r=e,n=t.readUInt16BE(e);e+=2;let i=[];for(;n>0;){let o=t[e++];if(--n,n<o)throw new Error("Buffer overflow");i.push(t.slice(e,e+o)),e+=o,n-=o}return Ve.decode.bytes=e-r,i};Ve.decode.bytes=0;Ve.encodingLength=function(t){Array.isArray(t)||(t=[t]);let e=2;return t.forEach(function(r){typeof r=="string"?e+=P.byteLength(r)+1:e+=r.length+1}),e};var Ye=D.null={};Ye.encode=function(t,e,r){e||(e=P.alloc(Ye.encodingLength(t))),r||(r=0),typeof t=="string"&&(t=P.from(t)),t||(t=P.alloc(0));let n=r;r+=2;let i=t.length;return t.copy(e,r,0,i),r+=i,e.writeUInt16BE(r-n-2,n),Ye.encode.bytes=r-n,e};Ye.encode.bytes=0;Ye.decode=function(t,e){e||(e=0);let r=e,n=t.readUInt16BE(e);e+=2;let i=t.slice(e,e+n);return e+=n,Ye.decode.bytes=e-r,i};Ye.decode.bytes=0;Ye.encodingLength=function(t){return t?(P.isBuffer(t)?t.length:P.byteLength(t))+2:2};var Ke=D.hinfo={};Ke.encode=function(t,e,r){e||(e=P.alloc(Ke.encodingLength(t))),r||(r=0);let n=r;return r+=2,ne.encode(t.cpu,e,r),r+=ne.encode.bytes,ne.encode(t.os,e,r),r+=ne.encode.bytes,e.writeUInt16BE(r-n-2,n),Ke.encode.bytes=r-n,e};Ke.encode.bytes=0;Ke.decode=function(t,e){e||(e=0);let r=e,n={};return e+=2,n.cpu=ne.decode(t,e),e+=ne.decode.bytes,n.os=ne.decode(t,e),e+=ne.decode.bytes,Ke.decode.bytes=e-r,n};Ke.decode.bytes=0;Ke.encodingLength=function(t){return ne.encodingLength(t.cpu)+ne.encodingLength(t.os)+2};var xe=D.ptr={},li=D.cname=xe,di=D.dname=xe;xe.encode=function(t,e,r){return e||(e=P.alloc(xe.encodingLength(t))),r||(r=0),j.encode(t,e,r+2),e.writeUInt16BE(j.encode.bytes,r),xe.encode.bytes=j.encode.bytes+2,e};xe.encode.bytes=0;xe.decode=function(t,e){e||(e=0);let r=j.decode(t,e+2);return xe.decode.bytes=j.decode.bytes+2,r};xe.decode.bytes=0;xe.encodingLength=function(t){return j.encodingLength(t)+2};var $e=D.srv={};$e.encode=function(t,e,r){e||(e=P.alloc($e.encodingLength(t))),r||(r=0),e.writeUInt16BE(t.priority||0,r+2),e.writeUInt16BE(t.weight||0,r+4),e.writeUInt16BE(t.port||0,r+6),j.encode(t.target,e,r+8);let n=j.encode.bytes+6;return e.writeUInt16BE(n,r),$e.encode.bytes=n+2,e};$e.encode.bytes=0;$e.decode=function(t,e){e||(e=0);let r=t.readUInt16BE(e),n={};return n.priority=t.readUInt16BE(e+2),n.weight=t.readUInt16BE(e+4),n.port=t.readUInt16BE(e+6),n.target=j.decode(t,e+8),$e.decode.bytes=r+2,n};$e.decode.bytes=0;$e.encodingLength=function(t){return 8+j.encodingLength(t.target)};var Ee=D.caa={};Ee.ISSUER_CRITICAL=1<<7;Ee.encode=function(t,e,r){let n=Ee.encodingLength(t);return e||(e=P.alloc(Ee.encodingLength(t))),r||(r=0),t.issuerCritical&&(t.flags=Ee.ISSUER_CRITICAL),e.writeUInt16BE(n-2,r),r+=2,e.writeUInt8(t.flags||0,r),r+=1,ne.encode(t.tag,e,r),r+=ne.encode.bytes,e.write(t.value,r),r+=P.byteLength(t.value),Ee.encode.bytes=n,e};Ee.encode.bytes=0;Ee.decode=function(t,e){e||(e=0);let r=t.readUInt16BE(e);e+=2;let n=e,i={};return i.flags=t.readUInt8(e),e+=1,i.tag=ne.decode(t,e),e+=ne.decode.bytes,i.value=t.toString("utf-8",e,n+r),i.issuerCritical=!!(i.flags&Ee.ISSUER_CRITICAL),Ee.decode.bytes=r+2,i};Ee.decode.bytes=0;Ee.encodingLength=function(t){return ne.encodingLength(t.tag)+ne.encodingLength(t.value)+2};var Je=D.mx={};Je.encode=function(t,e,r){e||(e=P.alloc(Je.encodingLength(t))),r||(r=0);let n=r;return r+=2,e.writeUInt16BE(t.preference||0,r),r+=2,j.encode(t.exchange,e,r),r+=j.encode.bytes,e.writeUInt16BE(r-n-2,n),Je.encode.bytes=r-n,e};Je.encode.bytes=0;Je.decode=function(t,e){e||(e=0);let r=e,n={};return e+=2,n.preference=t.readUInt16BE(e),e+=2,n.exchange=j.decode(t,e),e+=j.decode.bytes,Je.decode.bytes=e-r,n};Je.encodingLength=function(t){return 4+j.encodingLength(t.exchange)};var Ge=D.a={};Ge.encode=function(t,e,r){return e||(e=P.alloc(Ge.encodingLength(t))),r||(r=0),e.writeUInt16BE(4,r),r+=2,ot.v4.encode(t,e,r),Ge.encode.bytes=6,e};Ge.encode.bytes=0;Ge.decode=function(t,e){e||(e=0),e+=2;let r=ot.v4.decode(t,e);return Ge.decode.bytes=6,r};Ge.decode.bytes=0;Ge.encodingLength=function(){return 6};var ze=D.aaaa={};ze.encode=function(t,e,r){return e||(e=P.alloc(ze.encodingLength(t))),r||(r=0),e.writeUInt16BE(16,r),r+=2,ot.v6.encode(t,e,r),ze.encode.bytes=18,e};ze.encode.bytes=0;ze.decode=function(t,e){e||(e=0),e+=2;let r=ot.v6.decode(t,e);return ze.decode.bytes=18,r};ze.decode.bytes=0;ze.encodingLength=function(){return 18};var me=D.option={};me.encode=function(t,e,r){e||(e=P.alloc(me.encodingLength(t))),r||(r=0);let n=r,i=zt.toCode(t.code);if(e.writeUInt16BE(i,r),r+=2,t.data)e.writeUInt16BE(t.data.length,r),r+=2,t.data.copy(e,r),r+=t.data.length;else switch(i){case 8:let o=t.sourcePrefixLength||0,a=t.family||ot.familyOf(t.ip),d=ot.encode(t.ip,P.alloc),p=Math.ceil(o/8);e.writeUInt16BE(p+4,r),r+=2,e.writeUInt16BE(a,r),r+=2,e.writeUInt8(o,r++),e.writeUInt8(t.scopePrefixLength||0,r++),d.copy(e,r,0,p),r+=p;break;case 11:t.timeout?(e.writeUInt16BE(2,r),r+=2,e.writeUInt16BE(t.timeout,r),r+=2):(e.writeUInt16BE(0,r),r+=2);break;case 12:let g=t.length||0;e.writeUInt16BE(g,r),r+=2,e.fill(0,r,r+g),r+=g;break;case 14:let h=t.tags.length*2;e.writeUInt16BE(h,r),r+=2;for(let s of t.tags)e.writeUInt16BE(s,r),r+=2;break;default:throw new Error(`Unknown roption code: ${t.code}`)}return me.encode.bytes=r-n,e};me.encode.bytes=0;me.decode=function(t,e){e||(e=0);let r={};r.code=t.readUInt16BE(e),r.type=zt.toString(r.code),e+=2;let n=t.readUInt16BE(e);switch(e+=2,r.data=t.slice(e,e+n),r.code){case 8:r.family=t.readUInt16BE(e),e+=2,r.sourcePrefixLength=t.readUInt8(e++),r.scopePrefixLength=t.readUInt8(e++);let i=P.alloc(r.family===1?4:16);t.copy(i,0,e,e+n-4),r.ip=ot.decode(i);break;case 11:n>0&&(r.timeout=t.readUInt16BE(e),e+=2);break;case 14:r.tags=[];for(let o=0;o<n;o+=2)r.tags.push(t.readUInt16BE(e)),e+=2}return me.decode.bytes=n+4,r};me.decode.bytes=0;me.encodingLength=function(t){if(t.data)return t.data.length+4;switch(zt.toCode(t.code)){case 8:let r=t.sourcePrefixLength||0;return Math.ceil(r/8)+8;case 11:return typeof t.timeout=="number"?6:4;case 12:return t.length+4;case 14:return 4+t.tags.length*2}throw new Error(`Unknown roption code: ${t.code}`)};var Ce=D.opt={};Ce.encode=function(t,e,r){e||(e=P.alloc(Ce.encodingLength(t))),r||(r=0);let n=r,i=st(t,me);return e.writeUInt16BE(i,r),r=lt(t,me,e,r+2),Ce.encode.bytes=r-n,e};Ce.encode.bytes=0;Ce.decode=function(t,e){e||(e=0);let r=e,n=[],i=t.readUInt16BE(e);e+=2;let o=0;for(;i>0;)n[o++]=me.decode(t,e),e+=me.decode.bytes,i-=me.decode.bytes;return Ce.decode.bytes=e-r,n};Ce.decode.bytes=0;Ce.encodingLength=function(t){return 2+st(t||[],me)};var ye=D.dnskey={};ye.PROTOCOL_DNSSEC=3;ye.ZONE_KEY=128;ye.SECURE_ENTRYPOINT=32768;ye.encode=function(t,e,r){e||(e=P.alloc(ye.encodingLength(t))),r||(r=0);let n=r,i=t.key;if(!P.isBuffer(i))throw new Error("Key must be a Buffer");return r+=2,e.writeUInt16BE(t.flags,r),r+=2,e.writeUInt8(ye.PROTOCOL_DNSSEC,r),r+=1,e.writeUInt8(t.algorithm,r),r+=1,i.copy(e,r,0,i.length),r+=i.length,ye.encode.bytes=r-n,e.writeUInt16BE(ye.encode.bytes-2,n),e};ye.encode.bytes=0;ye.decode=function(t,e){e||(e=0);let r=e;var n={},i=t.readUInt16BE(e);if(e+=2,n.flags=t.readUInt16BE(e),e+=2,t.readUInt8(e)!==ye.PROTOCOL_DNSSEC)throw new Error("Protocol must be 3");return e+=1,n.algorithm=t.readUInt8(e),e+=1,n.key=t.slice(e,r+i+2),e+=n.key.length,ye.decode.bytes=e-r,n};ye.decode.bytes=0;ye.encodingLength=function(t){return 6+P.byteLength(t.key)};var be=D.rrsig={};be.encode=function(t,e,r){e||(e=P.alloc(be.encodingLength(t))),r||(r=0);let n=r,i=t.signature;if(!P.isBuffer(i))throw new Error("Signature must be a Buffer");return r+=2,e.writeUInt16BE(We.toType(t.typeCovered),r),r+=2,e.writeUInt8(t.algorithm,r),r+=1,e.writeUInt8(t.labels,r),r+=1,e.writeUInt32BE(t.originalTTL,r),r+=4,e.writeUInt32BE(t.expiration,r),r+=4,e.writeUInt32BE(t.inception,r),r+=4,e.writeUInt16BE(t.keyTag,r),r+=2,j.encode(t.signersName,e,r),r+=j.encode.bytes,i.copy(e,r,0,i.length),r+=i.length,be.encode.bytes=r-n,e.writeUInt16BE(be.encode.bytes-2,n),e};be.encode.bytes=0;be.decode=function(t,e){e||(e=0);let r=e;var n={},i=t.readUInt16BE(e);return e+=2,n.typeCovered=We.toString(t.readUInt16BE(e)),e+=2,n.algorithm=t.readUInt8(e),e+=1,n.labels=t.readUInt8(e),e+=1,n.originalTTL=t.readUInt32BE(e),e+=4,n.expiration=t.readUInt32BE(e),e+=4,n.inception=t.readUInt32BE(e),e+=4,n.keyTag=t.readUInt16BE(e),e+=2,n.signersName=j.decode(t,e),e+=j.decode.bytes,n.signature=t.slice(e,r+i+2),e+=n.signature.length,be.decode.bytes=e-r,n};be.decode.bytes=0;be.encodingLength=function(t){return 20+j.encodingLength(t.signersName)+P.byteLength(t.signature)};var Oe=D.rp={};Oe.encode=function(t,e,r){e||(e=P.alloc(Oe.encodingLength(t))),r||(r=0);let n=r;return r+=2,j.encode(t.mbox||".",e,r),r+=j.encode.bytes,j.encode(t.txt||".",e,r),r+=j.encode.bytes,Oe.encode.bytes=r-n,e.writeUInt16BE(Oe.encode.bytes-2,n),e};Oe.encode.bytes=0;Oe.decode=function(t,e){e||(e=0);let r=e,n={};return e+=2,n.mbox=j.decode(t,e)||".",e+=j.decode.bytes,n.txt=j.decode(t,e)||".",e+=j.decode.bytes,Oe.decode.bytes=e-r,n};Oe.decode.bytes=0;Oe.encodingLength=function(t){return 2+j.encodingLength(t.mbox||".")+j.encodingLength(t.txt||".")};var pe={};pe.encode=function(t,e,r){e||(e=P.alloc(pe.encodingLength(t))),r||(r=0);let n=r;for(var i=[],o=0;o<t.length;o++){var a=We.toType(t[o]);i[a>>8]===void 0&&(i[a>>8]=[]),i[a>>8][a>>3&31]|=1<<7-(a&7)}for(o=0;o<i.length;o++)if(i[o]!==void 0){var d=P.from(i[o]);e.writeUInt8(o,r),r+=1,e.writeUInt8(d.length,r),r+=1,d.copy(e,r),r+=d.length}return pe.encode.bytes=r-n,e};pe.encode.bytes=0;pe.decode=function(t,e,r){e||(e=0);let n=e;for(var i=[];e-n<r;){var o=t.readUInt8(e);e+=1;var a=t.readUInt8(e);e+=1;for(var d=0;d<a;d++)for(var p=t.readUInt8(e+d),g=0;g<8;g++)if(p&1<<7-g){var h=We.toString(o<<8|d<<3|g);i.push(h)}e+=a}return pe.decode.bytes=e-n,i};pe.decode.bytes=0;pe.encodingLength=function(t){for(var e=[],r=0;r<t.length;r++){var n=We.toType(t[r]);e[n>>8]=Math.max(e[n>>8]||0,n&255)}var i=0;for(r=0;r<e.length;r++)e[r]!==void 0&&(i+=2+Math.ceil((e[r]+1)/8));return i};var ke=D.nsec={};ke.encode=function(t,e,r){e||(e=P.alloc(ke.encodingLength(t))),r||(r=0);let n=r;return r+=2,j.encode(t.nextDomain,e,r),r+=j.encode.bytes,pe.encode(t.rrtypes,e,r),r+=pe.encode.bytes,ke.encode.bytes=r-n,e.writeUInt16BE(ke.encode.bytes-2,n),e};ke.encode.bytes=0;ke.decode=function(t,e){e||(e=0);let r=e;var n={},i=t.readUInt16BE(e);return e+=2,n.nextDomain=j.decode(t,e),e+=j.decode.bytes,n.rrtypes=pe.decode(t,e,i-(e-r)),e+=pe.decode.bytes,ke.decode.bytes=e-r,n};ke.decode.bytes=0;ke.encodingLength=function(t){return 2+j.encodingLength(t.nextDomain)+pe.encodingLength(t.rrtypes)};var Fe=D.nsec3={};Fe.encode=function(t,e,r){e||(e=P.alloc(Fe.encodingLength(t))),r||(r=0);let n=r,i=t.salt;if(!P.isBuffer(i))throw new Error("salt must be a Buffer");let o=t.nextDomain;if(!P.isBuffer(o))throw new Error("nextDomain must be a Buffer");return r+=2,e.writeUInt8(t.algorithm,r),r+=1,e.writeUInt8(t.flags,r),r+=1,e.writeUInt16BE(t.iterations,r),r+=2,e.writeUInt8(i.length,r),r+=1,i.copy(e,r,0,i.length),r+=i.length,e.writeUInt8(o.length,r),r+=1,o.copy(e,r,0,o.length),r+=o.length,pe.encode(t.rrtypes,e,r),r+=pe.encode.bytes,Fe.encode.bytes=r-n,e.writeUInt16BE(Fe.encode.bytes-2,n),e};Fe.encode.bytes=0;Fe.decode=function(t,e){e||(e=0);let r=e;var n={},i=t.readUInt16BE(e);e+=2,n.algorithm=t.readUInt8(e),e+=1,n.flags=t.readUInt8(e),e+=1,n.iterations=t.readUInt16BE(e),e+=2;let o=t.readUInt8(e);e+=1,n.salt=t.slice(e,e+o),e+=o;let a=t.readUInt8(e);return e+=1,n.nextDomain=t.slice(e,e+a),e+=a,n.rrtypes=pe.decode(t,e,i-(e-r)),e+=pe.decode.bytes,Fe.decode.bytes=e-r,n};Fe.decode.bytes=0;Fe.encodingLength=function(t){return 8+t.salt.length+t.nextDomain.length+pe.encodingLength(t.rrtypes)};var Ue=D.ds={};Ue.encode=function(t,e,r){e||(e=P.alloc(Ue.encodingLength(t))),r||(r=0);let n=r,i=t.digest;if(!P.isBuffer(i))throw new Error("Digest must be a Buffer");return r+=2,e.writeUInt16BE(t.keyTag,r),r+=2,e.writeUInt8(t.algorithm,r),r+=1,e.writeUInt8(t.digestType,r),r+=1,i.copy(e,r,0,i.length),r+=i.length,Ue.encode.bytes=r-n,e.writeUInt16BE(Ue.encode.bytes-2,n),e};Ue.encode.bytes=0;Ue.decode=function(t,e){e||(e=0);let r=e;var n={},i=t.readUInt16BE(e);return e+=2,n.keyTag=t.readUInt16BE(e),e+=2,n.algorithm=t.readUInt8(e),e+=1,n.digestType=t.readUInt8(e),e+=1,n.digest=t.slice(e,r+i+2),e+=n.digest.length,Ue.decode.bytes=e-r,n};Ue.decode.bytes=0;Ue.encodingLength=function(t){return 6+P.byteLength(t.digest)};var we=D.sshfp={};we.getFingerprintLengthForHashType=function(e){switch(e){case 1:return 20;case 2:return 32}};we.encode=function(e,r,n){r||(r=P.alloc(we.encodingLength(e))),n||(n=0);let i=n;n+=2,r[n]=e.algorithm,n+=1,r[n]=e.hash,n+=1;let o=P.from(e.fingerprint.toUpperCase(),"hex");if(o.length!==we.getFingerprintLengthForHashType(e.hash))throw new Error("Invalid fingerprint length");return o.copy(r,n),n+=o.byteLength,we.encode.bytes=n-i,r.writeUInt16BE(we.encode.bytes-2,i),r};we.encode.bytes=0;we.decode=function(e,r){r||(r=0);let n=r,i={};r+=2,i.algorithm=e[r],r+=1,i.hash=e[r],r+=1;let o=we.getFingerprintLengthForHashType(i.hash);return i.fingerprint=e.slice(r,r+o).toString("hex").toUpperCase(),r+=o,we.decode.bytes=r-n,i};we.decode.bytes=0;we.encodingLength=function(t){return 4+P.from(t.fingerprint,"hex").byteLength};var Xt=D.record=function(t){switch(t.toUpperCase()){case"A":return Ge;case"PTR":return xe;case"CNAME":return li;case"DNAME":return di;case"TXT":return Ve;case"NULL":return Ye;case"AAAA":return ze;case"SRV":return $e;case"HINFO":return Ke;case"CAA":return Ee;case"NS":return Me;case"SOA":return He;case"MX":return Je;case"OPT":return Ce;case"DNSKEY":return ye;case"RRSIG":return be;case"RP":return Oe;case"NSEC":return ke;case"NSEC3":return Fe;case"SSHFP":return we;case"DS":return Ue}return Pe},_e=D.answer={};_e.encode=function(t,e,r){e||(e=P.alloc(_e.encodingLength(t))),r||(r=0);let n=r;if(j.encode(t.name,e,r),r+=j.encode.bytes,e.writeUInt16BE(We.toType(t.type),r),t.type.toUpperCase()==="OPT"){if(t.name!==".")throw new Error("OPT name must be root.");e.writeUInt16BE(t.udpPayloadSize||4096,r+2),e.writeUInt8(t.extendedRcode||0,r+4),e.writeUInt8(t.ednsVersion||0,r+5),e.writeUInt16BE(t.flags||0,r+6),r+=8,Ce.encode(t.options||[],e,r),r+=Ce.encode.bytes}else{let i=xt.toClass(t.class===void 0?"IN":t.class);t.flush&&(i|=Wt),e.writeUInt16BE(i,r+2),e.writeUInt32BE(t.ttl||0,r+4),r+=8;let o=Xt(t.type);o.encode(t.data,e,r),r+=o.encode.bytes}return _e.encode.bytes=r-n,e};_e.encode.bytes=0;_e.decode=function(t,e){e||(e=0);let r={},n=e;if(r.name=j.decode(t,e),e+=j.decode.bytes,r.type=We.toString(t.readUInt16BE(e)),r.type==="OPT")r.udpPayloadSize=t.readUInt16BE(e+2),r.extendedRcode=t.readUInt8(e+4),r.ednsVersion=t.readUInt8(e+5),r.flags=t.readUInt16BE(e+6),r.flag_do=(r.flags>>15&1)===1,r.options=Ce.decode(t,e+8),e+=8+Ce.decode.bytes;else{let i=t.readUInt16BE(e+2);r.ttl=t.readUInt32BE(e+4),r.class=xt.toString(i&si),r.flush=!!(i&Wt);let o=Xt(r.type);r.data=o.decode(t,e+8),e+=8+o.decode.bytes}return _e.decode.bytes=e-n,r};_e.decode.bytes=0;_e.encodingLength=function(t){let e=t.data!==null&&t.data!==void 0?t.data:t.options;return j.encodingLength(t.name)+8+Xt(t.type).encodingLength(e)};var Ae=D.question={};Ae.encode=function(t,e,r){e||(e=P.alloc(Ae.encodingLength(t))),r||(r=0);let n=r;return j.encode(t.name,e,r),r+=j.encode.bytes,e.writeUInt16BE(We.toType(t.type),r),r+=2,e.writeUInt16BE(xt.toClass(t.class===void 0?"IN":t.class),r),r+=2,Ae.encode.bytes=r-n,t};Ae.encode.bytes=0;Ae.decode=function(t,e){e||(e=0);let r=e,n={};return n.name=j.decode(t,e),e+=j.decode.bytes,n.type=We.toString(t.readUInt16BE(e)),e+=2,n.class=xt.toString(t.readUInt16BE(e)),e+=2,!!(n.class&Lr)&&(n.class&=ui),Ae.decode.bytes=e-r,n};Ae.decode.bytes=0;Ae.encodingLength=function(t){return j.encodingLength(t.name)+4};D.AUTHORITATIVE_ANSWER=1<<10;D.TRUNCATED_RESPONSE=1<<9;D.RECURSION_DESIRED=1<<8;D.RECURSION_AVAILABLE=1<<7;D.AUTHENTIC_DATA=1<<5;D.CHECKING_DISABLED=1<<4;D.DNSSEC_OK=1<<15;D.encode=function(t,e,r){let n=!e;n&&(e=P.alloc(D.encodingLength(t))),r||(r=0);let i=r;return t.questions||(t.questions=[]),t.answers||(t.answers=[]),t.authorities||(t.authorities=[]),t.additionals||(t.additionals=[]),Se.encode(t,e,r),r+=Se.encode.bytes,r=lt(t.questions,Ae,e,r),r=lt(t.answers,_e,e,r),r=lt(t.authorities,_e,e,r),r=lt(t.additionals,_e,e,r),D.encode.bytes=r-i,n&&D.encode.bytes!==e.length?e.slice(0,D.encode.bytes):e};D.encode.bytes=0;D.decode=function(t,e){e||(e=0);let r=e,n=Se.decode(t,e);return e+=Se.decode.bytes,e=Tt(n.questions,Ae,t,e),e=Tt(n.answers,_e,t,e),e=Tt(n.authorities,_e,t,e),e=Tt(n.additionals,_e,t,e),D.decode.bytes=e-r,n};D.decode.bytes=0;D.encodingLength=function(t){return Se.encodingLength(t)+st(t.questions||[],Ae)+st(t.answers||[],_e)+st(t.authorities||[],_e)+st(t.additionals||[],_e)};D.streamEncode=function(t){let e=D.encode(t),r=P.alloc(2);r.writeUInt16BE(e.byteLength);let n=P.concat([r,e]);return D.streamEncode.bytes=n.byteLength,n};D.streamEncode.bytes=0;D.streamDecode=function(t){let e=t.readUInt16BE(0);if(t.byteLength<e+2)return null;let r=D.decode(t.slice(2));return D.streamDecode.bytes=D.decode.bytes,r};D.streamDecode.bytes=0;function st(t,e){let r=0;for(let n=0;n<t.length;n++)r+=e.encodingLength(t[n]);return r}function lt(t,e,r,n){for(let i=0;i<t.length;i++)e.encode(t[i],r,n),n+=e.encode.bytes;return n}function Tt(t,e,r,n){for(let i=0;i<t.length;i++)t[i]=e.decode(r,n),n+=e.decode.bytes;return n}});var Mr=de((Dr,Pr)=>{(function(t){"use strict";t(function(){var e=Object.prototype.toString;return function(){for(var h=new Array(arguments.length),s=0;s<h.length;++s)h[s]=arguments[s];var u=r(h),c=n(h),l=i(h);function y(_,E){p(this,l),p(this,E),this.message=_||this.message,_ instanceof Error?(this.message=_.message,this.stack=_.stack):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}function f(){this.constructor=y}return f.prototype=c.prototype,y.prototype=new f,y.prototype.name=""+u||"CustomError",y};function r(h){return h.length===0?"":a(h[0])?h[1]||"":h[0]}function n(h){return h.length===0?Error:a(h[0])?h[0]:Error}function i(h){return h.length===0?null:a(h[0])?h[2]:h[1]}function o(h){var s=[];for(var u in h)s.push(u);return s}function a(h){return typeof h=="function"}function d(h){return h&&typeof h=="object"&&e.call(h)==="[object Object]"}function p(h,s){if(d(s))for(var u=o(s),c=0,l=u.length;c<l;++c)h[u[c]]=g(s[u[c]])}function g(h){if(h==null||typeof h!="object")return h;var s=h.constructor?h.constructor():Object.create(null);for(var u in h)h.hasOwnProperty(u)&&(s[u]=h[u]);return s}})})(function(t){if(typeof define=="function"&&define.amd)define(t);else if(typeof Dr=="object")Pr.exports=t();else{var e=this,r=e.createError,n=e.createError=t();n.noConflict=function(){return e.createError=r,n}}})});var qt=de((ea,Hr)=>{var Ze=Mr(),et=Ze("AgentError"),hi=Ze(et,"TimeoutError"),pi=Ze(et,"TaskError"),fi=Ze(et,"BrowserDependencyError"),_i=Ze(et,"BrowserMissingError"),gi=Ze(et,"ScamperNotFoundError"),yi=Ze(et,"ScamperNotAvailableError"),vi=Ze(et,"InsufficientPermissionsError");Hr.exports={AgentError:et,TimeoutError:hi,TaskError:pi,BrowserDependencyError:fi,BrowserNotFoundError:_i,ScamperNotFoundError:gi,ScamperNotAvailableError:yi,InsufficientPermissionsError:vi}});var Vr={};Ut(Vr,{makeRequest:()=>mi});async function mi(t){return await(await fetch(t.uri,t)).json()}var Yr=Ft(()=>{});var Kr={};Ut(Kr,{getLogger:()=>Ei});function Ei(){return{debug:console.debug,info:console.info,log:console.log,warn:console.warn}}var $r=Ft(()=>{});var Qt=de((ta,zr)=>{var At=($r(),Bt(Kr)),St="",Gr={appenders:{stdout:{type:"stdout"}},categories:{default:{appenders:["stdout"],level:"info"},httpRequest:{appenders:["stdout"],level:"info"}}};function wi(){let t=At.getLogger("console");console.trace=t.trace.bind(t),console.debug=t.debug.bind(t),console.log=t.info.bind(t),console.info=t.info.bind(t),console.warn=t.warn.bind(t),console.error=t.error.bind(t)}function Ci(t){let e={};return Object.entries(t).forEach(([r,n])=>{let i=St&&r!=="default"?`${St}-${r}`:r,o={appenders:["stdout"],level:n};e[i]=o}),e}function Ti(t,e){return t?`${t}-${e}`:e}function xi({threadId:t,logLevels:e={default:"info"}}={}){St=t||"",Object.prototype.hasOwnProperty.call(e,"default")||(e.default="info");let r=Object.assign({},Gr,{categories:Ci(e)});At.shutdown(),At.configure(r),wi()}function Ai(t){return At.getLogger(Ti(St,t))}zr.exports={initialize:xi,getLogger:Ai,baseLogConfig:Gr}});var Zr=de((ra,Jr)=>{var je=Ct(),Si=Nr(),{TimeoutError:Ii}=qt(),{makeRequest:Ri}=(Yr(),Bt(Vr)),{getLogger:bi}=Qt(),Jt=bi("dnsServer.dnssec");function Oi(t){return Si.dnskey.encode(t).slice(2)}function ki(t){let e=0;for(let r=0;r<t.length;r+=1){let n=t[r];r&1?e+=n:e+=n<<8}return e+=e>>16&65535,e&65535}function Wr(t,e,r){let n=Oi({key:t,flags:e,algorithm:r});return ki(n)}function Xr(t,e,r=!0){return je.try(()=>{let n=`https://dns.google/resolve?name=${t}&type=${e}&do=${r}`;return Ri({method:"GET",json:!0,timeout:5e3,uri:n})})}function Fi(t){let e=t.split(" "),[r,n,i,o,a,d,p,g,h]=e;return{type:r,algorithm:n,labelsCount:i,ttl:o,expiration:a,inception:d,keyTag:p,signerName:g,signature:h}}function Ui(t){let e=t.split(" "),[r,n,i,o]=e;return{keyTag:r,algorithm:n,digestType:i,digest:o}}function ji(t){let e=t.split(" "),[r,n,i,o]=e,a=Buffer.from(o,"base64"),d=Wr(a,r,i);return{flags:r,protocol:n,algorithm:i,key:o,keyTag:d}}var Bi={43:Ui,46:Fi,48:ji};function dt(t,e){return je.try(()=>Xr(t,e).then(r=>{if(r.Answer||r.Authority){let n=r.Answer?"Answer":"Authority";r.answers=r[n].flatMap(i=>{let{data:o,type:a}=i,d=Bi[a];return o&&d&&Object.assign(i,{data_obj:d(o)}),[i]}),delete r[n]}return r}))}function Li(t){return je.try(()=>je.all([dt(t,"DS"),dt(t,"DNSKEY")]))}function qr(t){let e=t.split("."),r=[];for(let n=0;n<e.length;n+=1)r.push(e.slice(n).join("."));return r}function Qr(t){return je.try(()=>{let e=qr(t),r=dt(".","DNSKEY");return je.map(e,Li).then(n=>r.then(i=>(n.push([i]),n)))})}function Ni(t){return je.try(()=>{Jt.debug(t);let{dns_sec:e}=t,{expiry:r,target:n,type:i}=e,o=r+500,a;return je.try(()=>{a=Date.now();let d=dt(n,i);return je.all([d,Qr(n)])}).then(d=>{let[p,g]=d,h=Date.now()-a;Jt.debug(`${n} ${h}ms`),delete p.response;let s={queryResult:p,trustChain:g},u=p.AD===!0?1:0;return{data:s,validation:u,time:h}}).timeout(o).catch(je.TimeoutError,()=>{throw Jt.warn("Top level timeout triggered",t),new Ii})})}Jr.exports={dohRequest:Xr,getDnsSecRecordChain:Qr,getKeyTag:Wr,parseHostname:qr,queryAndParse:dt,run:Ni}});var ht=de((na,en)=>{var Di={SUCCESS:"success",FAILURE:"failure",TIMEOUT:"timeout"},Pi=["trace","ping"],Mi=".ksynth_upload_tmp",ut={HTTP:"http",PAGE:"page_load",TRANSACTION:"transaction",PING:"ping",KNOCK:"knock",TRACE:"traceroute",DNS:"dns",DNSSEC:"dns_sec"},Zt={BROWSER:"browser",SCAMPER:"scamper"},Hi={[Zt.BROWSER]:[ut.PAGE,ut.TRANSACTION],[Zt.SCAMPER]:[ut.KNOCK,ut.PING,ut.TRACE]},Vi=2*1e3,Yi={DUAL:0,v4:4,v6:6},Ki="System is not fully configured to run ping/trace tests. Please run agent with sudo permissions and '--install-scamper' flag to finish configuration OR run with the '-d scamper' flag to disable ping/trace tests.",$i="System is not fully configured to run ping/trace tests (auto-install binary is not currently available). Please install scamper (https://www.caida.org/catalog/software/scamper/) on current system and provide absolute path to scamper binary to ksynth-agent via the '--scamper-path' flag OR run with the '-d scamper' flag to disable ping/trace tests.";en.exports={TASK_TYPES:ut,TASK_STATUS:Di,DEFAULT_PROBE_TIMEOUT:Vi,SCAMPER_COMMANDS:Pi,DISABLE_CATEGORY:Zt,DISABLE_CATEGORY_TASKS:Hi,IP_FAMILY:Yi,SCAMPER_NOT_FOUND_MSG:Ki,SCAMPER_NOT_AVAIL_MSG:$i,UPLOAD_TMP_DIR:Mi}});var tn=de((ia,Gi)=>{Gi.exports={}});var rn=de((oa,zi)=>{zi.exports={}});var nn=de((aa,Wi)=>{Wi.exports={}});var on=de((ca,Xi)=>{Xi.exports={}});var un=de((sa,sn)=>{var{mkdir:qi,rm:Qi}=tn(),an=Ct(),Ji=rn(),pt=nn(),It=on(),{AgentError:Zi}=qt(),{TASK_TYPES:eo}=ht(),{IP_FAMILY:er}=ht();function to(t){return t?Math.round(t[0]*1e6+t[1]*.001):0}function ro(t){return Math.round(t*1e3)}function no(t){return Buffer.from(t).toString("base64")}function io(t,e){return e instanceof RegExp?t.search(e):t.indexOf(e)}function oo(t){let e=Object.keys(t),r=Object.values(eo),n=e.filter(i=>r.includes(i));return t[n]}function tr(t){return t.reduce((r,n)=>r+n,0)/t.length}function ao(t){let e=tr(t),r=t.map(i=>{let o=i-e;return o*o}),n=tr(r);return Math.sqrt(n)}function co(t){let e=0,r,n=0;return t.length>2&&(t.forEach(i=>{if(!r){r=i;return}n+=Math.abs(r-i),r=i}),e=n/(t.length-1)),e}function so(t,e=""){return an.resolve().then(()=>{let r=pt.join(t,e);return qi(r,{recursive:!0}).then(()=>r)})}function uo(t,e){let r=pt.relative(t,e);return r&&!r.startsWith("..")&&!pt.isAbsolute(r)}function lo(t=""){let e=er.DUAL;return t.includes("6")?e=er.v6:t.includes("4")&&(e=er.v4),e}function ho(t,e=!1){try{return Ji.execSync(`which ${t}`).toString().trim()}catch{if(e)throw new Zi(`Unable to locate ${t} executable in path`);return""}}function cn(t){let e=t||process.env.KA_PID_PATH||process.cwd();return pt.isAbsolute(e)?e:pt.join(process.cwd(),t)}function po(){let t=It.platform(),e=It.arch();return e=e==="x64"?"amd64":e,`${t}-${e}`}function fo(){let t=It.platform();return t==="freebsd"?"darwin":t}function _o(){let t=It.arch();return t==="x64"?"amd64":t}function go(){let t=process.env.KA_PID_PATH||process.cwd(),e=!1,r=!1,n=!1,i=["-h","--help","-help","-v","--version","-version"];return process.argv.forEach((o,a)=>{(o==="--pid_path"||o==="-p")&&(t=process.argv[a+1]||t),o==="--update"&&(e=!0),o==="--base"&&(r=!0),i.includes(o)&&(n=!0)}),{base:r,update:e,pidPath:cn(t),passthrough:n}}function yo(t){return an.resolve().then(()=>Qi(t,{recursive:!0,force:!0,maxRetries:2,retryDelay:500}))}sn.exports={average:tr,jitter:co,standardDeviation:ao,getTaskConfig:oo,hrToMicros:to,milliToMicro:ro,encodeBase64String:no,search:io,getObjectTmpDir:so,isPathRelative:uo,normalizeIpFamily:lo,getCommandPath:ho,normalizePidPath:cn,getLauncherContext:go,getPlatformSuffix:po,systemPlatform:fo,systemArch:_o,rmrf:yo}});var gn=de((ua,ir)=>{var dn=Ct(),{getLogger:vo}=Qt(),{TASK_STATUS:rr,TASK_TYPES:tt}=ht(),{milliToMicro:ie}=un(),Xe=vo("encode"),mo=0,Eo=1,wo=2,Co=3,To=4,xo=5,Ao=6,So=8,Io=9,Ro=10,bo=10,F={appProtocol:"APP_PROTOCOL",agent:"INT64_00",kind:"INT00",task:"INT64_01",test:"INT64_02",tlsValidTo:"INT64_03",ip:"INET_DST_ADDR",cause:"STR00",status:"INT01",ttlb:"INT02",size:"INT03",sent:"INT01",lost:"INT02",rtt:{min:"INT03",max:"INT04",avg:"INT05",std:"INT06",jit:"INT07"},route:"STR00",time:"INT01",tlsStatus:"INT07",port:"INT08",data:"STR00",record:"STR01",code:"INT02",stop_data:"INT02",stop_reason:"STR01",trx_time:"INT02",trx_status:"INT01",validation:"INT02"},Oo=new Set([F.ip,F.record,F.data,F.cause,F.route]);function hn(t){return t==null?"":t.toString().replace(/,/g,"\\,").replace(/=/g,"\\=").replace(/\s/g,"\\ ")}function nr(t){let e=JSON.stringify([t]);return Xe.trace(e),e}function ko(t){return t.startsWith("[")&&t.endsWith("]")?t.substr(1,t.length-2):t}function Be(t,e,r){return r.forEach(({src:n,dst:i,isLiteral:o,transform:a})=>{let d=o?n:t[n],p=i||n;o?e[p]=d:a?e[p]=a(d,t):e[p]=t[n]}),e}var Fo=[{src:"statusCode"},{src:"duration"},{src:"domainLookupStart"},{src:"domainLookupEnd"},{src:"connectStart"},{src:"secureConnectionStart"},{src:"connectEnd"},{src:"requestStart"},{src:"responseStart"},{src:"responseEnd"},{src:"decodedBodySize"},{src:"tlsProtocol"}];function Uo(t,e,r){let n=nr(Be(r,{},Fo)),i=[{dst:F.appProtocol,src:t,isLiteral:!0},{dst:F.agent,src:e,isLiteral:!0},{dst:F.kind,src:Co,isLiteral:!0},{dst:F.status,src:"statusCode"},{dst:F.ttlb,src:"duration"},{dst:F.ip,src:"ip"},{dst:F.size,src:"decodedBodySize"},{dst:F.task,src:"taskId"},{dst:F.test,src:"testId"},{dst:F.tlsValidTo,src:"tlsValidTo"},{dst:F.tlsStatus,src:1,isLiteral:!0},{dst:F.data,src:n,isLiteral:!0}],o=Be(r,{},i);return Xe.debug(o),o}var jo=[{src:"statusCode"},{src:"duration",transform:ie},{src:"fetchStart",transform:ie},{src:"domainLookupStart",transform:ie},{src:"domainLookupEnd",transform:ie},{src:"connectStart",transform:ie},{src:"connectEnd",transform:ie},{src:"secureConnectionStart",transform:ie},{src:"requestStart",transform:ie},{src:"responseStart",transform:ie},{src:"responseEnd",transform:ie},{src:"domInteractive",transform:ie},{src:"domContentLoadedEventStart",transform:ie},{src:"domContentLoadedEventEnd",transform:ie},{src:"domComplete",transform:ie},{src:"loadEventStart",transform:ie},{src:"loadEventEnd",transform:ie},{src:"tlsProtocol"},{src:"decodedBodySize"},{src:"redirectCount"},{src:"css_selector_status"},{src:"css_selector_data"},{src:"s3_data"}];function Bo(t,e,r){let n=nr(Be(r,{},jo)),i=[{dst:F.appProtocol,src:t,isLiteral:!0},{dst:F.agent,src:e,isLiteral:!0},{dst:F.kind,src:So,isLiteral:!0},{dst:F.status,src:"statusCode"},{dst:F.ttlb,src:"duration",transform:ie},{dst:F.ip,src:"ip",transform:ko},{dst:F.size,src:"decodedBodySize"},{dst:F.task,src:"taskId"},{dst:F.test,src:"testId"},{dst:F.tlsValidTo,src:"tlsValidTo"},{dst:F.tlsStatus,src:1,isLiteral:!0},{dst:F.data,src:n,isLiteral:!0}],o=Be(r,{},i);return Xe.debug(o),o}var Lo=[{src:"s3_data"},{src:"statusMessage"}];function No(t,e,r){let n=nr(Be(r,{},Lo)),i=[{dst:F.appProtocol,src:t,isLiteral:!0},{dst:F.agent,src:e,isLiteral:!0},{dst:F.kind,src:Io,isLiteral:!0},{dst:F.task,src:"taskId"},{dst:F.test,src:"testId"},{dst:F.trx_time,src:"totalTimeMs",transform:ie},{dst:F.trx_status,src:"trx_status"},{dst:F.data,src:n,isLiteral:!0}],o=Be(r,{},i);return Xe.debug(o),o}function pn(t,e,r){let n={},{taskId:i,testId:o}=r;return n[F.appProtocol]=t,n[F.agent]=e,n[F.kind]=Eo,n[F.task]=i,n[F.test]=o,n}function Do(t,e,r){let n=pn(t,e,r);return n[F.kind]=mo,n[F.cause]=hn(r.error||"Unexpected error on task execution"),n}function fn(t,e,r,n){let i=[{dst:F.appProtocol,src:t,isLiteral:!0},{dst:F.agent,src:e,isLiteral:!0},{dst:F.kind,src:n||wo,isLiteral:!0},{dst:F.task,src:"taskId"},{dst:F.test,src:"testId"},{dst:F.ip,src:"ip"},{dst:F.sent,src:"sent"},{dst:F.lost,src:"received",transform:(a,d)=>d.sent-a},{dst:F.rtt.min,src:"min",transform:ie},{dst:F.rtt.max,src:"max",transform:ie},{dst:F.rtt.avg,src:"avg",transform:ie},{dst:F.rtt.std,src:"std",transform:ie},{dst:F.rtt.jit,src:"jit",transform:ie}],o=Be(r,{},i);return Xe.debug(o),o}function Po(t,e,r){return fn(t,e,r,xo)}function Mo(t,e,r,n){let i=[{dst:F.appProtocol,src:t,isLiteral:!0},{dst:F.agent,src:e,isLiteral:!0},{dst:F.kind,src:n||To,isLiteral:!0},{dst:F.task,src:"taskId"},{dst:F.test,src:"testId"},{dst:F.ip,src:"ip"},{dst:F.stop_data,src:"stop_data"},{dst:F.stop_reason,src:"stop_reason"},{dst:F.route,src:"route",transform:a=>JSON.stringify(a)},{dst:F.time,src:"totalTime",transform:ie}],o=Be(r,{},i);return Xe.debug(o),o}function Ho(t,e,r){let n=[{dst:F.appProtocol,src:t,isLiteral:!0},{dst:F.agent,src:e,isLiteral:!0},{dst:F.kind,src:Ao,isLiteral:!0},{dst:F.task,src:"taskId"},{dst:F.test,src:"testId"},{dst:F.code,src:"code"},{dst:F.data,src:"answers",transform:o=>JSON.stringify(o)},{dst:F.record,src:"record"},{dst:F.time,src:"time"}],i=Be(r,{},n);return Xe.debug(i),i}function Vo(t,e,r){let n=[{dst:F.appProtocol,src:t,isLiteral:!0},{dst:F.agent,src:e,isLiteral:!0},{dst:F.kind,src:Ro,isLiteral:!0},{dst:F.task,src:"taskId"},{dst:F.test,src:"testId"},{dst:F.time,src:"time"},{dst:F.validation,src:"validation"},{dst:F.data,src:"data",transform:i=>JSON.stringify([i])}];return Be(r,{},n)}var Yo={[tt.PING]:fn,[tt.TRACE]:Mo,[tt.KNOCK]:Po,[tt.HTTP]:Uo,[tt.DNS]:Ho,[tt.DNSSEC]:Vo,[tt.PAGE]:Bo,[tt.TRANSACTION]:No,[rr.FAILURE]:Do,[rr.TIMEOUT]:pn};function ln(t){return Yo[t]}function Ko(t){if(!t||!t.length)return"";let e=[];return t.forEach(r=>{let n=["udr"],i=[];Object.entries(r).forEach(([a,d])=>{Oo.has(a)?n.push(`,${a}=${hn(d)}`):i.push(`${i.length?",":""}${a}=${d}`)});let o=[n.join(""),i.join(""),`0
`].join(" ");o.includes("=,")||o.includes("= ")?Xe.error("Invalid test result format, omitted from data export",o):e.push(o)}),e.join("")}function _n(t,e){return dn.try(()=>{let r=[];return e.forEach(n=>{let{type:i,status:o}=n,a=o===rr.SUCCESS?ln(i):ln(o);a?r.push(a(bo,t,n)):Xe.warn("No encoder function found, task result will be omitted from export",n)}),r})}function $o(t,e){return dn.try(()=>_n(t,e).then(r=>Ko(r)))}ir.exports={generateExportBody:$o};ir.exports={convertToUdrObjects:_n}});Mt();var yn=jt(Zr(),1),Rt=jt(ht(),1),vn=jt(gn(),1);typeof process!="object"&&(globalThis.setTimeout=()=>{},globalThis.clearTimeout=()=>{});globalThis.Buffer=S;async function Go(t){try{let e=await(0,yn.run)({dns_sec:t}),n=(await(0,vn.convertToUdrObjects)(0,[{type:Rt.TASK_TYPES.DNSSEC,status:Rt.TASK_STATUS.SUCCESS,taskId:0,testId:0,...e}]))[0];return delete n.APP_PROTOCOL,delete n.INT64_00,delete n.INT64_01,delete n.INT64_02,n}catch(e){throw console.error(e.stack),e}}if(typeof process=="object"){let t=()=>Go({target:"cloudflare.com",type:"A",expiry:1e4});async function e(){for(let r=0;r<10;r++){let n=Date.now(),i=await t(),o=Date.now()-n;console.log(`execution time: ${o}ms`)}}t().then(console.log)}export{Go as dns_sec};
/* @preserve
 * The MIT License (MIT)
 * 
 * Copyright (c) 2013-2018 Petka Antonov
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 */
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
