name: synag

global_settings:
  - DeriveDisplayOrder

settings:
  - DisableHelpSubcommand
  - SubcommandRequiredElseHelp
  - VersionlessSubcommands

help_message: print help
version_message: print version

args:
  - verbose:
      short: v
      long: verbose
      help: verbose output
      multiple: true
      global: true

subcommands:
  - agent:
      about: execute agent
      help_message: print help
      args:
        - id:
            short: i
            long: id
            env: IDENTITY
            help: agent ID
            takes_value: true
            required: true
        - company:
            long: company
            env: KENTIK_COMPANY
            help: company ID
            takes_value: true
        - proxy:
            long: proxy
            env: PROXY
            help: HTTP proxy
            takes_value: true
        - region:
            long: region
            env: KENTIK_REGION
            help: region
            takes_value: true
            default_value: "US"
  - ping:
      about: execute ping
      help_message: print help
      args:
        - count:
            short: c
            help: count
            value_name: count
            default_value: "4"
        - delay:
            short: d
            help: delay (ms)
            default_value: "100"
        - expiry:
            short: e
            help: expiry (ms)
            default_value: "250"
        - ip4:
            short: "4"
            help: use IPv4 only
            conflicts_with: ip6
        - ip6:
            short: "6"
            help: use IPv6 only
            conflicts_with: ip4
        - host:
            index: 1
            help: host
            multiple: true
            required: true
  - trace:
      about: execute trace
      help_message: print help
      args:
        - delay:
            short: d
            help: delay (ms)
            default_value: "50"
        - expiry:
            short: e
            help: expiry (ms)
            default_value: "250"
        - limit:
            short: l
            help: hop limit
            default_value: "32"
        - probes:
            short: p
            help: probe count
            value_name: probes
            default_value: "3"
        - host:
            index: 1
            help: host
            multiple: true
            required: true
